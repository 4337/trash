srv*c:\myserversymbols*https://msdl.microsoft.com/download/symbols
--------------------------------------------------------------------------------------

(215c.2184): Access violation - code c0000005 (!!! second chance !!!)
*** ERROR: Symbol file could not be found.  Defaulted to export symbols for C:\WINDOWS\SYSTEM32\igd10iumd32.dll - 
eax=000110fc ebx=00000000 ecx=000110f0 edx=000110f0 esi=1276c640 edi=1276c640
eip=638bfa58 esp=0bc7b0f4 ebp=0bc7b108 iopl=0         nv up ei pl nz na pe nc
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010206
igd10iumd32!OpenAdapter10_2+0x321958:
638bfa58 8b02            mov     eax,dword ptr [edx]  ds:002b:000110f0=????????
0:006> kb
 # ChildEBP RetAddr  Args to Child              
WARNING: Stack unwind information not available. Following frames may be wrong.
00 0bc7b108 6ad78375 1276c640 00000000 00000002 igd10iumd32!OpenAdapter10_2+0x321958
01 0bc7b14c 6ad6bafd 00000001 6ada9eb0 00000000 d3d11!CContext::EmptyOutAllDDIBindPoints+0x5445f
02 0bc7b160 6ada9ec4 6ada9eb0 0bc7b1e0 6ae4899b d3d11!CContext::CompleteContextRemoval+0x47c0a
03 0bc7b16c 6ae4899b 1276c640 00000000 00000002 d3d11!CContext::DDI_DrawIndexedInstanced_DR+0x14
04 0bc7b1e0 6ae4ae51 12765bb0 00000000 00000002 d3d11!CContext::TID3D11DeviceContext_SetConstantBuffers1_<1,0>+0x24b
05 0bc7b25c 6ad1ba87 1a0bef80 0bc7b2f4 12765b40 d3d11!CContext::RestorePipelineStateImpl<1>+0x931
06 0bc7b2bc 6ad1bd6d 00000000 24543a2c 6ae461d0 d3d11!TOptImmediateContext::AcquireDevCtxIfaceNoSync+0x1b7
07 0bc7b2d8 6ae46201 12765b40 00000001 00000000 d3d11!CDevCtxInterface::CDevCtxInterface<CContext>+0x39
08 0bc7b30c 6497e4bc 12765bb0 00000001 0bc7b34c d3d11!CContext::TID3D11DeviceContext_RSSetScissorRects_Amortized<1>+0x31
09 0bc7b380 64913ed3 00000000 0000000f 0bc7b540 d2d1!GeometryStageManager::Flush+0xada63
0a 0bc7b518 649ef429 00000010 bf800000 2fd9cb90 d2d1!CHwSurfaceRenderTarget::FlushQueuedOperations+0x173
0b 0bc7b598 649e7065 2fd9cb90 245432f8 0d0b3e80 d2d1!StageManagerBase::AllocateHeapRect+0xb2  //D2D_RECT_U ...
																							  //protected: long __stdcall CArray<class CD3DRealizationVertex,class CPodTraits<class CD3DRealizationVertex>,class CDefaultAllocator>::EnsureLargerCapacity(unsigned int,void const * *) //alokacja
0c 0bc7b66c 649ddf6e 2fd9cb90 0bc7bfc0 00000000 d2d1!GeometryStageManager::BeginDraw+0xdb
0d 0bc7b710 6498f965 0bc7bfc0 530bcd37 0bc7b740 d2d1!CHwSurfaceRenderTarget::FillTessellation_TIR+0x170
0e 0bc7c024 6491988c 00000000 2d961ec0 0bc7c050 d2d1!CHwSurfaceRenderTarget::FillShapeData+0x79300
0f 0bc7c0ac 648c9b71 2d961eac 0bc7c1f4 0bc7c224 d2d1!CHwSurfaceRenderTarget::FillPath+0x9c
10 0bc7c0e0 648c7805 00000007 0bc7c224 648c6f40 d2d1!PopLayerDrawCallHelper::PopLayerInversePathOp+0x6d
11 0bc7c308 648c6bfa 2fd9cb90 00000000 2f16ef8c d2d1!LayerSubTarget::PopInternal+0x8c5
12 0bc7c32c 648e5555 530bcd37 00000000 2f16ef8c d2d1!RTSubTargetState::Pop+0xdb
13 0bc7c344 648e4fb1 2fd9cb90 00000000 2f16ef8c d2d1!CBaseRenderTarget::Pop+0x19
14 0bc7c358 649461c5 00000000 2f16ef8c 622e0c08 d2d1!CBaseRenderTarget::PopLayer+0x11
15 0bc7c374 64914448 2fd9cb90 2fd9cb90 24545138 d2d1!CCommand_PopLayer::Execute+0x35
16 0bc7c394 649145fe 2fda2fd0 64914500 2fd9cb94 d2d1!CHwSurfaceRenderTarget::ProcessBatchImpl+0x73
17 0bc7c3c0 64908d4b 00000003 2fda2fd0 0bc7c3f4 d2d1!CHwSurfaceRenderTarget::ProcessBatch+0xfe
18 0bc7c414 64903c68 00000003 2fd9ede0 2fd9edd0 d2d1!CBatchSerializer::FlushInternal+0x13b
19 0bc7c450 649030f5 00000003 0bc7c478 0bc7c488 d2d1!DrawingContext::Flush+0x92
1a 0bc7c4a0 648bb7a4 0bc7c56c 0bc7c574 0bc7c564 d2d1!DrawingContext::EndDraw+0x13c
1b 0bc7c550 69bb1edc 2fd9edd0 0bc7c56c 0bc7c574 d2d1!D2DDeviceContextBase<ID2D1DeviceContext6,ID2D1DeviceContext6,null_type>::EndDraw+0x144
1c 0bc7c57c 69bb1e53 1037aee0 1037aee0 2ed6efe0 MSHTML!CDXRenderTarget::EndDrawD2D+0x48
1d 0bc7c594 69d2c234 00000000 0bc7c600 1037aee0 MSHTML!CDXRenderTarget::SetTargetInfo+0x23
1e 0bc7c5b0 69d2c1d9 0bc7c600 1037aee0 1037aee0 MSHTML!CDXTargetSurface::ReleaseResources+0x29
1f 0bc7c5d8 69d2c2d4 0bc7c600 1037aee0 0a8e9ef0 MSHTML!CDXRenderTarget::ReleaseResources+0x49
20 0bc7c5e8 69d397bb 69d39790 0bc7c61c 69e9ee50 MSHTML!CDXRenderTarget::~CDXRenderTarget+0x12
21 0bc7c5f4 69e9ee50 1037aee0 0bc7c60c 69eb0110 MSHTML!RefCounted<CDXTextureRenderTarget,MultiThreadedRefCount>::Release+0x2b
22 0bc7c604 69cfb33a 0bc7c634 0a8e9ef0 0a8e9ef0 MSHTML!TSmartPointer<ID2D1Bitmap>::~TSmartPointer<ID2D1Bitmap>+0x20
23 0bc7c61c 69eae2b0 0bc7c634 69ca7d00 0a8e9ef0 MSHTML!CHTMLCanvasElement::ResetRenderingSurfaces+0x2c
24 0bc7c62c 6a685203 0bc7c660 693a1aa8 0a8e9ef0 MSHTML!CHTMLCanvasElement::ResetState+0xc
25 0bc7c654 6a685615 00000000 00000002 2df50de0 MSHTML!CHTMLCanvasElement::SetWidthHelper+0x44
26 0bc7c670 6a48c45c 2df50de0 0bc7c6a8 2df50de0 MSHTML!CHTMLCanvasElement::Var_set_width+0x42
27 0bc7c698 6953c280 221cd840 02000002 221cc540 MSHTML!CFastDOM::CHTMLCanvasElement::Trampoline_Set_width+0x3c
28 0bc7c704 694f8c1f 221cd840 02000002 221cc540 jscript9!Js::JavascriptExternalFunction::ExternalFunctionThunk+0x190
29 0bc7c730 694dd0d6 1b6e6dbe 0bc7c780 0bc7c7a4 jscript9!<lambda_58b9ba9eeb8f97b5e624add39c5039e7>::operator()+0xa0
2a 0bc7c75c 69503a5b 221cd840 00000000 2ddb08b8 jscript9!ThreadContext::ExecuteImplicitCall<<lambda_58b9ba9eeb8f97b5e624add39c5039e7> >+0x73
2b 0bc7c7a8 694818dc 00000001 2ddb08b8 221e4faa jscript9!Js::JavascriptOperators::CallSetter+0x4b
2c 0bc7c7c8 69486f75 221cc540 0bc7c9bc 00000001 jscript9!Js::InlineCache::TrySetProperty<1,1,1,1,0>+0x10c
2d 0bc7ca20 69484aa6 1b6e60ba 0bc7cca0 00000003 jscript9!Js::InterpreterStackFrame::Process+0x1b85
2e 0bc7ca58 6948a1bb 0bc7cc8c 221e4f9e 0bc7cca0 jscript9!Js::InterpreterStackFrame::OP_TryCatch+0x49
2f 0bc7cc98 694665c5 221e4fb0 220ce000 221df010 jscript9!Js::InterpreterStackFrame::Process+0x4dcb
30 0bc7d144 07180fe9 0bc7d158 0bc7d190 6953a303 jscript9!Js::InterpreterStackFrame::InterpreterThunk<1>+0x205
31 0bc7d150 6953a303 221de640 00000000 0bc7d1c8 0x7180fe9
32 0bc7d190 694ce43f 00000000 00000000 1b6e78e6 jscript9!Js::JavascriptFunction::CallFunction<1>+0x93
33 0bc7d204 694ce305 2ddb08b8 00000000 00000000 jscript9!Js::JavascriptFunction::CallRootFunctionInternal+0xb5
34 0bc7d25c 6951c823 2ddb08b8 00000000 00000000 jscript9!Js::JavascriptFunction::CallRootFunction+0x4d
35 0bc7d2a4 6945abca 0bc7d2cc 00000000 00000000 jscript9!ScriptSite::CallRootFunction+0x42
36 0bc7d2e0 6945ed06 221de640 0bc7d324 00000000 jscript9!ScriptSite::Execute+0xcc
37 0bc7d378 6945fba8 0bc7d5f0 0bc7d5c4 1b6e7ef2 jscript9!ScriptEngine::ExecutePendingScripts+0x1c6
38 0bc7d410 6945fcfa 0c3dc364 0d272fec 1c08fec4 jscript9!ScriptEngine::ParseScriptTextCore+0x345
39 0bc7d460 69db1ed1 2df50e00 0c3dc364 0d272fec jscript9!ScriptEngine::ParseScriptText+0x5a
3a 0bc7d498 69db1e73 0c3dc364 00000000 00000000 MSHTML!CActiveScriptHolder::ParseScriptText+0x51
3b 0bc7d4f0 69daefb2 0c3dc364 00000000 00000000 MSHTML!CJScript9Holder::ParseScriptText+0x63
3c 0bc7d560 69dacb91 00000000 1c071200 00000000 MSHTML!CScriptCollection::ParseScriptText+0x17d
3d 0bc7d64c 69dae020 00000000 00000000 00000000 MSHTML!CScriptData::CommitCode+0x2e5
3e 0bc7d6cc 69dada9b 1c046de0 8000ffff 0a8eaa80 MSHTML!CScriptData::Execute+0x241
3f 0bc7d6ec 69e4b8dc 00000002 8000ffff 0a8a6000 MSHTML!CHtmScriptParseCtx::Execute+0xeb
40 0bc7d740 69d76b72 0004b772 0a8a6000 00030280 MSHTML!CHtmParseBase::Execute+0x20c
41 0bc7d75c 69d763e5 00000002 0a8eaa80 69e26630 MSHTML!CHtmPost::Broadcast+0xc2
42 0bc7d884 69e265a5 0004b772 0a890000 0a8a6000 MSHTML!CHtmPost::Exec+0x1b5
43 0bc7d8a4 69e264a0 0004b772 0a8a6000 0a890000 MSHTML!CHtmPost::Run+0x3d
44 0bc7d8c4 69e26384 0a8a6000 0a8a6000 699de218 MSHTML!PostManExecute+0x60
45 0bc7d8d8 69e260d9 69e260a0 0bc7d918 0a890000 MSHTML!PostManResume+0x79
46 0bc7d908 69db1dfe 1c060e00 0a8a6000 0bc7d930 MSHTML!CHtmPost::OnDwnChanCallback+0x39
47 0bc7d920 69e4c02b 1c060e00 00000000 0000000c MSHTML!CDwnChan::OnMethodCall+0x3e
48 0bc7d99c 69e4c3c4 9111f490 00008002 00000000 MSHTML!GlobalWndOnMethodCall+0x21b
49 0bc7d9e8 756abf1b 000205f0 00008002 00000000 MSHTML!GlobalWndProc+0xe4
4a 0bc7da14 756a83ea 69e4c2e0 000205f0 00008002 USER32!_InternalCallWinProc+0x2b
4b 0bc7dafc 756a7c9e 69e4c2e0 00000000 00008002 USER32!UserCallWinProcCheckWow+0x3aa
4c 0bc7db78 756a7a80 1a01e5bf 0bc7fd14 6b2465af USER32!DispatchMessageWorker+0x20e
4d 0bc7db84 6b2465af 0bc7dbc0 09407d88 0bd25fc8 USER32!DispatchMessageW+0x10
4e 0bc7fd14 6b245bb0 0bc7fde0 6b2457a0 09409ff0 IEFRAME!CTabWindow::_TabWindowThreadProc+0x46f
4f 0bc7fdd4 6ac0b61c 09407d88 0bc7fdf8 6b2857e0 IEFRAME!LCIETab_ThreadProc+0x410
50 0bc7fdec 64c2e6cd 09409ff0 64c2e640 64c2e640 msIso!_IsoThreadProc_WrapperToReleaseScope+0x1c
51 0bc7fe24 73a78484 0b9cffe8 73a78460 1e5231af IEShims!NS_CreateThread::AutomationIE_ThreadProc+0x8d
52 0bc7fe38 770c302c 0b9cffe8 e4143589 00000000 KERNEL32!BaseThreadInitThunk+0x24
53 0bc7fe80 770c2ffa ffffffff 770dec7c 00000000 ntdll!__RtlUserThreadStart+0x2f
54 0bc7fe90 00000000 64c2e640 0b9cffe8 00000000 ntdll!_RtlUserThreadStart+0x1b

-------

638bfa37 c7863c3a000000000000 mov dword ptr [esi+3A3Ch],0
638bfa41 8b8ed4000000    mov     ecx,dword ptr [esi+0D4h]
638bfa47 8b96c4000000    mov     edx,dword ptr [esi+0C4h]
638bfa4d 03d1            add     edx,ecx
638bfa4f 8d410c          lea     eax,[ecx+0Ch]
638bfa52 8986d4000000    mov     dword ptr [esi+0D4h],eax
638bfa58 8b02            mov     eax,dword ptr [edx]  ds:002b:000110f0=????????
638bfa5a 250100ffff      and     eax,0FFFF0001h
638bfa5f 83c801          or      eax,1
638bfa62 8902            mov     dword ptr [edx],eax
638bfa64 c6420200        mov     byte ptr [edx+2],0
638bfa68 8b02            mov     eax,dword ptr [edx]
638bfa6a 25ffffff00      and     eax,0FFFFFFh
638bfa6f 0d00000078      or      eax,78000000h
638bfa74 8902            mov     dword ptr [edx],eax
638bfa76 8b4204          mov     eax,dword ptr [edx+4]
638bfa79 250300ffff      and     eax,0FFFF0003h
638bfa7e 83c803          or      eax,3
638bfa81 894204          mov     dword ptr [edx+4],eax
638bfa84 33c0            xor     eax,eax
638bfa86 894206          mov     dword ptr [edx+6],eax
638bfa89 894208          mov     dword ptr [edx+8],eax
638bfa8c c6420243        mov     byte ptr [edx+2],43h

------

0:006> !heap  -p -a esi+0C4h
    address 1276c704 found in
    _DPH_HEAP_ROOT @ 661000
    in busy allocation (  DPH_HEAP_BLOCK:         UserAddr         UserSize -         VirtAddr         VirtSize)
                                29971fa4:         12765b18            2b4e8 -         12765000            2d000
          d3d11!CUseCountedObject<NOutermost::CDeviceChild>::`vftable'
    64c7abb0 verifier!AVrfDebugPageHeapAllocate+0x00000240
    7714276b ntdll!RtlDebugAllocateHeap+0x00000039
    770a58c9 ntdll!RtlpAllocateHeap+0x000000f9
    770a49b9 ntdll!RtlpAllocateHeapInternal+0x00000179
    770a482e ntdll!RtlAllocateHeap+0x0000003e
    6ad2688a d3d11!NOutermost::CDevice::CreateLayeredChild+0x000000ca     
    6ad28c03 d3d11!CDevice::LLOCompleteLayerConstruction+0x00000703
    6ad3f3a0 d3d11!CBridgeImpl<ILayeredLockOwner,ID3D11LayeredDevice,CLayeredObject<CDevice> >::LLOCompleteLayerConstruction+0x00000010
    6ad30e9e d3d11!NDXGI::CDevice::LLOCompleteLayerConstruction+0x000000cd
    6ad3f380 d3d11!CBridgeImpl<ILayeredLockOwner,ID3D11LayeredDevice,CLayeredObject<NDXGI::CDevice> >::LLOCompleteLayerConstruction+0x00000010
    6ad263a7 d3d11!NOutermost::CDevice::LLOCompleteLayerConstruction+0x00000027
    6ad26359 d3d11!NOutermost::CDevice::FinalConstruct+0x00000062
    6ad26160 d3d11!TComObject<NOutermost::CDevice>::TComObject<NOutermost::CDevice>+0x0000003b
    6ad123aa d3d11!TComObject<NOutermost::CDevice>::CreateInstance+0x0000003a
    6ad11c19 d3d11!D3D11CreateLayeredDevice+0x00000109
    6ad11af4 d3d11!D3D11CoreCreateLayeredDevice+0x000000b4
    6ad0ebc3 d3d11!D3D11RegisterLayersAndCreateDevice+0x000003d6
    6ad0fa2e d3d11!D3D11CoreCreateDevice+0x000003de
    6ad0e652 d3d11!D3D11CreateDeviceAndSwapChainImpl+0x000002d2
    6ad0e297 d3d11!D3D11CreateDeviceAndSwapChain+0x00000047
    6ad0e1cc d3d11!D3D11CreateDeviceImpl+0x0000002c
    6ad0e181 d3d11!D3D11CreateDevice+0x00000041
    69ced2c8 MSHTML!CDXGIHelper::CreateD3DDevice+0x00000088
    69e30b5a MSHTML!CDXHelper::CreateD3D11Device+0x000000a1
    69e2fdc2 MSHTML!CDXResourceDomain::EnsureD3DDevice+0x00000071
    69e2fcad MSHTML!CDXResourceDomain::Initialize+0x0000009a
    69e2fa1b MSHTML!CDXResourceDomain::Create+0x0000003b
    69e2fb9b MSHTML!CDXResourceDomain::EnsureSharedDomain+0x000000a8
    69e2f977 MSHTML!CDXResourceDomain::AcquireDomain+0x00000046
    69d362f5 MSHTML!CDXSystemShared::EnsureResourceDomain+0x00000087
    69bf96b9 MSHTML!CDXSystem::EnsureResourceDomainNoRef+0x00000039
    6a2b8eba MSHTML!CDXSystem::HandleDeviceReset+0x000000a5

*************************************

0. d3d11!NOutermost::CDevice::CreateLayeredChild+0x000000ca            

bp 6ad26861 ".if ( eax > 0 ) { .printf \" ChildSize : 0x%x\\r\\n\", EAX; g; }"

bp 6ad2688a ".if ( eax > 0 ) { .printf \" AllocSize !!! EAX : 0x%x\\r\\n\", EAX; g; }"

1. d2d1!GeometryStageManager::BeginDraw+0xdb

bp 679a7060 ".if ( 1 ) { .printf \" Before allocRect !!! [ebp-64h] : 0x%X [eax+0A4h] : 0x%x [ebx+44h] : 0x%x EDI : 0x%x ECX : 0x%x EDX : 0x%x EBX : 0x%x EAX : 0x%x\\r\\n\",poi(ebp-64h), poi(eax+0A4h), poi(ebx+44h), EDI, ECX, EDX, EBX, EAX; g; }"

----- 

Kolejność odwrotna

1. igd10iumd32!OpenAdapter10_2 (+0x321958) 

673BF160 | 55                       | push ebp                                                                                                                |
673BF161 | 8BEC                     | mov ebp,esp                                                                                                             |

673BF163 | 53                       | push ebx                                                                                                                |
673BF164 | 56                       | push esi                                                                                                                |
673BF165 | 57                       | push edi                                                                                                                |

673BF166 | 8B7D 08                  | mov edi,dword ptr ss:[ebp+8]      
673BF169 | 83C7 0F                  | add edi,F          ; CHwSurfaceRenderTarget->off_21ch->off_df8h(->[off_6b00]) + 0fh                                           
673BF16C | 83E7 F0                  | and edi,FFFFFFF0                                                                                                        |

673BF16F | 8B87 603C0000            | mov eax,dword ptr ds:[edi+3C60]                                                                                         |
673BF175 | 85C0                     | test eax,eax                                                                                                            |
673BF177 | 74 65                    | je igd10iumd32.673BF1DE                                                                                                 |

673BF179 | 50                       | push eax                                                                                                                |
673BF17A | 8B87 083D0000            | mov eax,dword ptr ds:[edi+3D08]                                                                                         |
673BF180 | FFD0                     | call eax                                                                                                                |
673BF182 | 84C0                     | test al,al                                                                                                              |
673BF184 | 74 58                    | je igd10iumd32.673BF1DE                                                                                                 |

673BF186 | 8B87 70430000            | mov eax,dword ptr ds:[edi+4370]                                                                                         |
673BF18C | 0B87 74430000            | or eax,dword ptr ds:[edi+4374]                                                                                          |
673BF192 | 74 4A                    | je igd10iumd32.673BF1DE                                                                                                 |

673BF194 | 8B87 68430000            | mov eax,dword ptr ds:[edi+4368]                                                                                         |
673BF19A | 0B87 6C430000            | or eax,dword ptr ds:[edi+436C]                                                                                          |
673BF1A0 | 74 17                    | je igd10iumd32.673BF1B9                                                                                                 |

673BF1A2 | 8B87 0C3D0000            | mov eax,dword ptr ds:[edi+3D0C]                                                                                         |
673BF1A8 | 6A 08                    | push 8                                                                                                                  |
673BF1AA | FFB7 603C0000            | push dword ptr ds:[edi+3C60]                                                                                            |
673BF1B0 | FFD0                     | call eax                                                                                                                |
673BF1B2 | 5F                       | pop edi                                                                                                                 |
673BF1B3 | 5E                       | pop esi                                                                                                                 |
673BF1B4 | 5B                       | pop ebx                                                                                                                 |
673BF1B5 | 5D                       | pop ebp                                                                                                                 |
673BF1B6 | C2 0C00                  | ret C                                                                                                                   |

673BF1B9 | 33F6                     | xor esi,esi                                                                                                             |
673BF1BB | 8D9F 08430000            | lea ebx,dword ptr ds:[edi+4308]                                                                                         |
673BF1C1 | 33D2                     | xor edx,edx                                                                                                             |
673BF1C3 | 8BC3                     | mov eax,ebx                                                                                                             |
673BF1C5 | 8B08                     | mov ecx,dword ptr ds:[eax]                                                                                              |
673BF1C7 | 0B48 04                  | or ecx,dword ptr ds:[eax+4]                                                                                             |
673BF1CA | 75 D6                    | jne igd10iumd32.673BF1A2                                                                                                |
673BF1CC | 42                       | inc edx                                                                                                                 |
673BF1CD | 83C0 08                  | add eax,8                                                                                                               |
673BF1D0 | 83FA 02                  | cmp edx,2                                                                                                               |
673BF1D3 | 72 F0                    | jb igd10iumd32.673BF1C5                                                                                                 |
673BF1D5 | 46                       | inc esi                                                                                                                 |
673BF1D6 | 83C3 10                  | add ebx,10                                                                                                              |
673BF1D9 | 83FE 06                  | cmp esi,6                                                                                                               |
673BF1DC | 72 E3                    | jb igd10iumd32.673BF1C1                                                                                                 |
673BF1DE | 83BF 3C3A0000 00         | cmp dword ptr ds:[edi+3A3C],0                                                                                           |
673BF1E5 | 0F84 55010000            | je igd10iumd32.673BF340                                                                                                 |
673BF1EB | 8B55 0C                  | mov edx,dword ptr ss:[ebp+C]                                                                                            |
673BF1EE | 8BCF                     | mov ecx,edi                                                                                                             |
673BF1F0 | 6A 00                    | push 0                                                                                                                  |
673BF1F2 | 6A 00                    | push 0                                                                                                                  |
673BF1F4 | 6A 00                    | push 0                                                                                                                  |
673BF1F6 | E8 55480000              | call <igd10iumd32.sub_673C3A50>                                                                                         |
673BF1FB | 8B87 403C0000            | mov eax,dword ptr ds:[edi+3C40]                                                                                         |
673BF201 | F780 D0000000 00000010   | test dword ptr ds:[eax+D0],10000000                                                                                     |
673BF20B | 74 31                    | je igd10iumd32.673BF23E                                                                                                 |
673BF20D | 83BF D0290000 00         | cmp dword ptr ds:[edi+29D0],0                                                                                           |
673BF214 | 75 24                    | jne igd10iumd32.673BF23A                                                                                                |
673BF216 | 83BF D8290000 00         | cmp dword ptr ds:[edi+29D8],0                                                                                           |
673BF21D | 75 1B                    | jne igd10iumd32.673BF23A                                                                                                |
673BF21F | 83BF DC290000 00         | cmp dword ptr ds:[edi+29DC],0                                                                                           |
673BF226 | 75 12                    | jne igd10iumd32.673BF23A                                                                                                |
673BF228 | 83BF D4290000 00         | cmp dword ptr ds:[edi+29D4],0                                                                                           |
673BF22F | 75 09                    | jne igd10iumd32.673BF23A                                                                                                |
673BF231 | 83BF CC290000 00         | cmp dword ptr ds:[edi+29CC],0                                                                                           |
673BF238 | 75 28                    | jne igd10iumd32.673BF262                                                                                                |
673BF23A | 33DB                     | xor ebx,ebx                                                                                                             |
673BF23C | EB 29                    | jmp igd10iumd32.673BF267                                                                                                |
673BF23E | 83BF D0290000 00         | cmp dword ptr ds:[edi+29D0],0                                                                                           |
673BF245 | 75 1B                    | jne igd10iumd32.673BF262                                                                                                |
673BF247 | 83BF D8290000 00         | cmp dword ptr ds:[edi+29D8],0                                                                                           |
673BF24E | 75 12                    | jne igd10iumd32.673BF262                                                                                                |
673BF250 | 83BF DC290000 00         | cmp dword ptr ds:[edi+29DC],0                                                                                           |
673BF257 | 75 09                    | jne igd10iumd32.673BF262                                                                                                |
673BF259 | 83BF D4290000 00         | cmp dword ptr ds:[edi+29D4],0                                                                                           |
673BF260 | 74 CF                    | je igd10iumd32.673BF231                                                                                                 |
673BF262 | BB 01000000              | mov ebx,1                                                                                                               |
673BF267 | 8B87 703B0000            | mov eax,dword ptr ds:[edi+3B70]                                                                                         |
673BF26D | C1E3 09                  | shl ebx,9                                                                                                               |
673BF270 | 6A 1C                    | push 1C                                                                                                                 |
673BF272 | 8348 08 08               | or dword ptr ds:[eax+8],8     
                                                                                          |
673BF276 | 8BB7 D4000000            | mov esi,dword ptr ds:[edi+D4]            ;<- 1     offset                                                                                |
673BF27C | 8B97 C4000000            | mov edx,dword ptr ds:[edi+C4]            ;<- 2     base                                                                           |
673BF282 | 03D6                     | add edx,esi                              ;<- 3
                                                                                                      |
673BF284 | 56                       | push esi                                                                                                                |
673BF285 | 8D46 1C                  | lea eax,dword ptr ds:[esi+1C]            ;<-- eax = offset + 0x1ch                                                                                           |
673BF288 | 8987 D4000000            | mov dword ptr ds:[edi+D4],eax            ;<- [base + 0d4] = offset + 0x1ch  ; nowy offset = offset += 0x1ch                                                                            |
673BF28E | C602 05                  | mov byte ptr ds:[edx],5                  ;<- ACCESS_VIOLATION                                                                                           |
673BF291 | 8122 FF00FFFF            | and dword ptr ds:[edx],FFFF00FF                                                                                         |
673BF297 | C642 02 00               | mov byte ptr ds:[edx+2],0                                                                                               |
673BF29B | 8B0A                     | mov ecx,dword ptr ds:[edx]                                                                                              |
673BF29D | 81E1 FFFFFF00            | and ecx,FFFFFF                                                                                                          |
673BF2A3 | C742 04 01000000         | mov dword ptr ds:[edx+4],1                                                                                              |
673BF2AA | 81C9 0000007B            | or ecx,7B000000                                                                                                         |
673BF2B0 | C742 08 00000000         | mov dword ptr ds:[edx+8],0                                                                                              |
673BF2B7 | 890A                     | mov dword ptr ds:[edx],ecx                                                                                              |
673BF2B9 | C742 0C 00000000         | mov dword ptr ds:[edx+C],0                                                                                              |
673BF2C0 | C742 10 00000000         | mov dword ptr ds:[edx+10],0                                                                                             |
673BF2C7 | C742 14 00000000         | mov dword ptr ds:[edx+14],0                                                                                             |
673BF2CE | C742 18 00000000         | mov dword ptr ds:[edx+18],0                                                                                             |
673BF2D5 | 8B87 980A0000            | mov eax,dword ptr ds:[edi+A98]                                                                                          |
673BF2DB | 8B0485 787F7A67          | mov eax,dword ptr ds:[eax*4+677A7F78]                                                                                   |
673BF2E2 | 83F0 01                  | xor eax,1                                                                                                               |
673BF2E5 | 83E0 3F                  | and eax,3F                                                                                                              |
673BF2E8 | 83F0 01                  | xor eax,1                                                                                                               |
673BF2EB | 8942 04                  | mov dword ptr ds:[edx+4],eax                                                                                            |
673BF2EE | 8B87 9C0A0000            | mov eax,dword ptr ds:[edi+A9C]                                                                                          |
673BF2F4 | 8162 04 FFFEFFFF         | and dword ptr ds:[edx+4],FFFFFEFF                                                                                       |
673BF2FB | C1E0 08                  | shl eax,8                                                                                                               |
673BF2FE | 33C1                     | xor eax,ecx                                                                                                             |
673BF300 | C742 10 01000000         | mov dword ptr ds:[edx+10],1                                                                                             |
673BF307 | 25 00010000              | and eax,100                                                                                                             |
673BF30C | 33C1                     | xor eax,ecx                                                                                                             |
673BF30E | 8902                     | mov dword ptr ds:[edx],eax                                                                                              |
673BF310 | 331A                     | xor ebx,dword ptr ds:[edx]                                                                                              |
673BF312 | 8B45 0C                  | mov eax,dword ptr ss:[ebp+C]                                                                                            |
673BF315 | 81E3 00020000            | and ebx,200                                                                                                             |
673BF31B | 311A                     | xor dword ptr ds:[edx],ebx                                                                                              |
673BF31D | 8942 08                  | mov dword ptr ds:[edx+8],eax                                                                                            |
673BF320 | 8B45 10                  | mov eax,dword ptr ss:[ebp+10]                                                                                           |
673BF323 | 8942 0C                  | mov dword ptr ds:[edx+C],eax                                                                                            |
673BF326 | 8B4F 4C                  | mov ecx,dword ptr ds:[edi+4C]                                                                                           |
673BF329 | 8B47 48                  | mov eax,dword ptr ds:[edi+48]                                                                                           | [edi+48]:sub_670CAED0
673BF32C | 03CF                     | add ecx,edi                                                                                                             |
673BF32E | FFD0                     | call eax                                                                                                                |
673BF330 | 8B55 0C                  | mov edx,dword ptr ss:[ebp+C]                                                                                            |
673BF333 | 8BCF                     | mov ecx,edi                                                                                                             |
673BF335 | 6A 00                    | push 0                                                                                                                  |
673BF337 | 6A 00                    | push 0                                                                                                                  |
673BF339 | 6A 00                    | push 0                                                                                                                  |
673BF33B | E8 40420000              | call <igd10iumd32.sub_673C3580>                                                                                         |
673BF340 | 5F                       | pop edi                                                                                                                 |
673BF341 | 5E                       | pop esi                                                                                                                 |
673BF342 | 5B                       | pop ebx                                                                                                                 |
673BF343 | 5D                       | pop ebp                                                                                                                 |
673BF344 | C2 0C00                  | ret C                                                                                                                   |

2. d3d11.CContext::TID3D11DeviceContext_Draw_<1>+46


6AB5DC80 | 8BFF                     | mov edi,edi                                                                                                             |
6AB5DC82 | 55                       | push ebp                                                                                                                |
6AB5DC83 | 8BEC                     | mov ebp,esp                                                                                                             |
6AB5DC85 | 51                       | push ecx                                                                                                                |
6AB5DC86 | A1 F8EDC06A              | mov eax,dword ptr ds:[<___security_cookie>]                                                                             |
6AB5DC8B | 33C5                     | xor eax,ebp                                                                                                             |
6AB5DC8D | 8945 FC                  | mov dword ptr ss:[ebp-4],eax 
                                                                                           |
6AB5DC90 | 8B4D 08                  | mov ecx,dword ptr ss:[ebp+8]               ; 0 ! ecx = arg0                                                                             |
6AB5DC93 | 83C1 90                  | add ecx,FFFFFF90                           ; !!!
                                                                                                 |
6AB5DC96 | 68 00A00000              | push A000                                                                                                               |
6AB5DC9B | E8 50C8FFFF              | call <d3d11.public: bool __thiscall CContext::SupportsFeatureLevelRanged<45056,49408>(enum D3D_FEATURE_LEVEL)const >    |
6AB5DCA0 | 84C0                     | test al,al                                                                                                              |
6AB5DCA2 | 0F84 02870000            | je d3d11.6AB663AA                                                                                                       |

6AB5DCA8 | 56                       | push esi                         ;arg4                                                                                        |
6AB5DCA9 | FF75 10                  | push dword ptr ss:[ebp+10]       ;arg3                                                                                       |

6AB5DCAC | 8BB1 E4020000            | mov esi,dword ptr ds:[ecx+2E4]       
                                                                                   |
6AB5DCB2 | 8D81 006B0000            | lea eax,dword ptr ds:[ecx+6B00]   ; eax = &arg0->off_6b00  = CHwSurfaceRenderTarget->off_21ch->off_df8h->off_6b00                                                                               |

6AB5DCB8 | FF75 0C                  | push dword ptr ss:[ebp+C]        ;arg2
                                                                                            |
6AB5DCBB | 8BCE                     | mov ecx,esi
                                                                                                             |
6AB5DCBD | 50                       | push eax                         ;arg1 = CORRUPTION_PTR  (&arg0->off_6b00)                                                                                         |
6AB5DCBE | FF15 4864C16A            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                                         |
6AB5DCC4 | FFD6                     | call esi        ; call igd10iumd32!OpenAdapter10_2( CORRUPTION_PTR, ... )                                                                                                        |
...

3. d2d1.CD3DDeviceLevel1::DrawDynamicVB+3D2


68B7B4D0 | 66:90                    | nop                                                                                                                     |
68B7B4D2 | 55                       | push ebp                                                                                                                |
68B7B4D3 | 8BEC                     | mov ebp,esp                                                                                                             |
68B7B4D5 | 81EC AC020000            | sub esp,2AC                                                                                                             |
68B7B4DB | A1 1454D468              | mov eax,dword ptr ds:[<___security_cookie>]                                                                             |
68B7B4E0 | 33C5                     | xor eax,ebp                                                                                                             |
68B7B4E2 | 8945 FC                  | mov dword ptr ss:[ebp-4],eax                                                                                            |
68B7B4E5 | 8B45 0C                  | mov eax,dword ptr ss:[ebp+C]                                                                                            |
68B7B4E8 | 53                       | push ebx                                                                                                                |
68B7B4E9 | 56                       | push esi                                                                                                                |
68B7B4EA | 57                       | push edi                                                                                                                |
68B7B4EB | 8B7D 08                  | mov edi,dword ptr ss:[ebp+8]                                                                                            |
68B7B4EE | 33F6                     | xor esi,esi                                                                                                             |
68B7B4F0 | 8B10                     | mov edx,dword ptr ds:[eax]                                                                                              |

68B7B4F2 | 8BD9                     | mov ebx,ecx                       ; 0 - ebx = ecx = this  - CHwSurfaceRenderTarget->off_21ch                                                                                    |

68B7B4F4 | 8985 64FDFFFF            | mov dword ptr ss:[ebp-29C],eax                                                                                          |
68B7B4FA | 89BD 74FDFFFF            | mov dword ptr ss:[ebp-28C],edi                                                                                          |
68B7B500 | 8B47 1C                  | mov eax,dword ptr ds:[edi+1C]                                                                                           |
68B7B503 | 8985 78FDFFFF            | mov dword ptr ss:[ebp-288],eax                                                                                          |
68B7B509 | 8B47 24                  | mov eax,dword ptr ds:[edi+24]                                                                                           |
68B7B50C | 8985 7CFDFFFF            | mov dword ptr ss:[ebp-284],eax                                                                                          |
68B7B512 | 8B47 20                  | mov eax,dword ptr ds:[edi+20]                                                                                           |
68B7B515 | 8985 84FDFFFF            | mov dword ptr ss:[ebp-27C],eax                                                                                          |
68B7B51B | 8B47 68                  | mov eax,dword ptr ds:[edi+68]                                                                                           |
68B7B51E | 8995 58FDFFFF            | mov dword ptr ss:[ebp-2A8],edx                                                                                          |
68B7B524 | 89B5 88FDFFFF            | mov dword ptr ss:[ebp-278],esi                                                                                          | [ebp-278]:struct SJournalEntry * Journal+13F8
68B7B52A | 89B5 70FDFFFF            | mov dword ptr ss:[ebp-290],esi                                                                                          |
68B7B530 | 3970 04                  | cmp dword ptr ds:[eax+4],esi                                                                                            |
68B7B533 | 0F86 38180800            | jbe d2d1.68BFCD71                                                                                                       |

68B7B539 | 83C7 2C                  | add edi,2C                                                                                                              |
68B7B53C | 89BD 54FDFFFF            | mov dword ptr ss:[ebp-2AC],edi                                                                                          |
68B7B542 | 8B85 74FDFFFF            | mov eax,dword ptr ss:[ebp-28C]                                                                                          |
68B7B548 | 80B8 A4000000 00         | cmp byte ptr ds:[eax+A4],0                                                                                              |
68B7B54F | 0F85 E5130800            | jne d2d1.68BFC93A                                                                                                       |
68B7B555 | 8B83 FC0D0000            | mov eax,dword ptr ds:[ebx+DFC]                                                                                          |
68B7B55B | FF77 30                  | push dword ptr ds:[edi+30]                                                                                              |
68B7B55E | 8B40 4C                  | mov eax,dword ptr ds:[eax+4C]                                                                                           |
68B7B561 | 50                       | push eax                                                                                                                |
68B7B562 | 8B08                     | mov ecx,dword ptr ds:[eax]                                                                                              |
68B7B564 | 8B71 60                  | mov esi,dword ptr ds:[ecx+60]                                                                                           |
68B7B567 | 8BCE                     | mov ecx,esi                                                                                                             |
68B7B569 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                                         |
68B7B56F | FFD6                     | call esi                                                                                                                |
68B7B571 | 8B47 34                  | mov eax,dword ptr ds:[edi+34]                                                                                           |
68B7B574 | 8B8B E00D0000            | mov ecx,dword ptr ds:[ebx+DE0]                                                                                          |
68B7B57A | 8985 8CFDFFFF            | mov dword ptr ss:[ebp-274],eax                                                                                          |
68B7B580 | 898D 80FDFFFF            | mov dword ptr ss:[ebp-280],ecx                                                                                          |
68B7B586 | 8BB481 58850000          | mov esi,dword ptr ds:[ecx+eax*4+8558]                                                                                   |
68B7B58D | 85F6                     | test esi,esi                                                                                                            |
68B7B58F | 0F84 EF050000            | je d2d1.68B7BB84                                                                                                        |
68B7B595 | 3973 20                  | cmp dword ptr ds:[ebx+20],esi                                                                                           |
68B7B598 | 0F85 DA030000            | jne d2d1.68B7B978                                                                                                       |
68B7B59E | 8B47 3C                  | mov eax,dword ptr ds:[edi+3C]                                                                                           |
68B7B5A1 | 8B95 70FDFFFF            | mov edx,dword ptr ss:[ebp-290]                                                                                          |
68B7B5A7 | 8B5490 08                | mov edx,dword ptr ds:[eax+edx*4+8]                                                                                      |
68B7B5AB | 83FA 08                  | cmp edx,8                                                                                                               |
68B7B5AE | 0F8D AF050000            | jge d2d1.68B7BB63                                                                                                       |
68B7B5B4 | 32C0                     | xor al,al                                                                                                               |
68B7B5B6 | 33F6                     | xor esi,esi                                                                                                             |
68B7B5B8 | 8D4F 40                  | lea ecx,dword ptr ds:[edi+40]                                                                                           |
68B7B5BB | 84C0                     | test al,al                                                                                                              |
68B7B5BD | 8B43 0C                  | mov eax,dword ptr ds:[ebx+C]                                                                                            |
68B7B5C0 | 0F44CE                   | cmove ecx,esi                                                                                                           |
68B7B5C3 | 8B80 180C0000            | mov eax,dword ptr ds:[eax+C18]                                                                                          |
68B7B5C9 | 8BB490 34840000          | mov esi,dword ptr ds:[eax+edx*4+8434]                                                                                   |
68B7B5D0 | 89B5 90FDFFFF            | mov dword ptr ss:[ebp-270],esi                                                                                          |
68B7B5D6 | 85C9                     | test ecx,ecx                                                                                                            |
68B7B5D8 | 0F85 95050000            | jne d2d1.68B7BB73                                                                                                       |
68B7B5DE | 32C0                     | xor al,al                                                                                                               |
68B7B5E0 | 8885 94FDFFFF            | mov byte ptr ss:[ebp-26C],al                                                                                            |
68B7B5E6 | 3973 60                  | cmp dword ptr ds:[ebx+60],esi                                                                                           |
68B7B5E9 | 0F85 B0030000            | jne d2d1.68B7B99F                                                                                                       |
68B7B5EF | 8A4B 64                  | mov cl,byte ptr ds:[ebx+64]                                                                                             |
68B7B5F2 | 3AC8                     | cmp cl,al                                                                                                               |
68B7B5F4 | 0F85 A5030000            | jne d2d1.68B7B99F                                                                                                       |
68B7B5FA | 84C9                     | test cl,cl                                                                                                              |
68B7B5FC | 0F85 87030000            | jne d2d1.68B7B989                                                                                                       |
68B7B602 | 8B85 70FDFFFF            | mov eax,dword ptr ss:[ebp-290]                                                                                          |
68B7B608 | 8B8B E00D0000            | mov ecx,dword ptr ds:[ebx+DE0]                                                                                          |
68B7B60E | 8B57 68                  | mov edx,dword ptr ds:[edi+68]                                                                                           |
68B7B611 | 0FB77447 50              | movzx esi,word ptr ds:[edi+eax*2+50]                                                                                    |
68B7B616 | 8B81 C4850000            | mov eax,dword ptr ds:[ecx+85C4]                                                                                         |
68B7B61C | 80B8 EC000000 00         | cmp byte ptr ds:[eax+EC],0                                                                                              |
68B7B623 | 0F84 3E130800            | je d2d1.68BFC967                                                                                                        |
68B7B629 | 8BC2                     | mov eax,edx                                                                                                             |
68B7B62B | 85C0                     | test eax,eax                                                                                                            |
68B7B62D | 0F85 3E130800            | jne d2d1.68BFC971                                                                                                       |
68B7B633 | 8B74B1 08                | mov esi,dword ptr ds:[ecx+esi*4+8]                                                                                      |
68B7B637 | 3973 30                  | cmp dword ptr ds:[ebx+30],esi                                                                                           |
68B7B63A | 0F85 BE020000            | jne d2d1.68B7B8FE                                                                                                       |
68B7B640 | 8B85 70FDFFFF            | mov eax,dword ptr ss:[ebp-290]                                                                                          |
68B7B646 | 0FB77447 56              | movzx esi,word ptr ds:[edi+eax*2+56]                                                                                    |
68B7B64B | 8B81 C4850000            | mov eax,dword ptr ds:[ecx+85C4]                                                                                         |
68B7B651 | 80B8 EC000000 00         | cmp byte ptr ds:[eax+EC],0                                                                                              |
68B7B658 | 0F84 1F130800            | je d2d1.68BFC97D                                                                                                        |
68B7B65E | 85D2                     | test edx,edx                                                                                                            |
68B7B660 | 0F85 21130800            | jne d2d1.68BFC987                                                                                                       |
68B7B666 | 8BB4B1 84080000          | mov esi,dword ptr ds:[ecx+esi*4+884]                                                                                    |
68B7B66D | 3973 38                  | cmp dword ptr ds:[ebx+38],esi                                                                                           |
68B7B670 | 0F85 73020000            | jne d2d1.68B7B8E9                                                                                                       |
68B7B676 | 80BB BD010000 00         | cmp byte ptr ds:[ebx+1BD],0                                                                                             |
68B7B67D | 0F85 E9030000            | jne d2d1.68B7BA6C                                                                                                       |
68B7B683 | 80BB BE010000 00         | cmp byte ptr ds:[ebx+1BE],0                                                                                             |
68B7B68A | 0F85 1C050000            | jne d2d1.68B7BBAC                                                                                                       |
68B7B690 | 837F 18 00               | cmp dword ptr ds:[edi+18],0                                                                                             |
68B7B694 | 8D77 18                  | lea esi,dword ptr ds:[edi+18]                                                                                           |
68B7B697 | 0F84 B4000000            | je d2d1.68B7B751                                                                                                        |
68B7B69D | 8D83 DC000000            | lea eax,dword ptr ds:[ebx+DC]                                                                                           |
68B7B6A3 | 33D2                     | xor edx,edx                                                                                                             |
68B7B6A5 | 2BC7                     | sub eax,edi                                                                                                             |
68B7B6A7 | 8BCF                     | mov ecx,edi                                                                                                             |
68B7B6A9 | 8985 8CFDFFFF            | mov dword ptr ss:[ebp-274],eax                                                                                          |
68B7B6AF | 90                       | nop                                                                                                                     |
68B7B6B0 | 8B0408                   | mov eax,dword ptr ds:[eax+ecx]                                                                                          |
68B7B6B3 | 3B01                     | cmp eax,dword ptr ds:[ecx]                                                                                              |
68B7B6B5 | 0F85 19030000            | jne d2d1.68B7B9D4                                                                                                       |
68B7B6BB | 8B85 8CFDFFFF            | mov eax,dword ptr ss:[ebp-274]                                                                                          |
68B7B6C1 | 42                       | inc edx                                                                                                                 |
68B7B6C2 | 83C1 04                  | add ecx,4                                                                                                               |
68B7B6C5 | 83FA 06                  | cmp edx,6                                                                                                               |
68B7B6C8 | 72 E6                    | jb d2d1.68B7B6B0                                                                                                        |
68B7B6CA | 8B43 14                  | mov eax,dword ptr ds:[ebx+14]                                                                                           |
68B7B6CD | 8D8B 08010000            | lea ecx,dword ptr ds:[ebx+108]                                                                                          |
68B7B6D3 | 8985 80FDFFFF            | mov dword ptr ss:[ebp-280],eax                                                                                          |
68B7B6D9 | 8BD6                     | mov edx,esi                                                                                                             |
68B7B6DB | C785 6CFDFFFF 00000000   | mov dword ptr ss:[ebp-294],0                                                                                            |
68B7B6E5 | 2BCE                     | sub ecx,esi                                                                                                             |
68B7B6E7 | 66:0F1F8400 00000000     | nop word ptr ds:[eax+eax],ax                                                                                            |
68B7B6F0 | 8B0411                   | mov eax,dword ptr ds:[ecx+edx]                                                                                          |
68B7B6F3 | 3B02                     | cmp eax,dword ptr ds:[edx]                                                                                              |
68B7B6F5 | 0F84 BB020000            | je d2d1.68B7B9B6                                                                                                        |
68B7B6FB | 56                       | push esi                                                                                                                |
68B7B6FC | 6A 06                    | push 6                                                                                                                  |
68B7B6FE | 6A 00                    | push 0                                                                                                                  |
68B7B700 | FFB5 80FDFFFF            | push dword ptr ss:[ebp-280]                                                                                             |
68B7B706 | E8 85290500              | call <d2d1.[thunk]: __stdcall ID3D11DeviceContext::`vcall'{32,{flat}}' }'>                                              |
68B7B70B | 8B06                     | mov eax,dword ptr ds:[esi]                                                                                              |
68B7B70D | 8D8B 08010000            | lea ecx,dword ptr ds:[ebx+108]                                                                                          |
68B7B713 | 8901                     | mov dword ptr ds:[ecx],eax                                                                                              |
68B7B715 | 8B46 04                  | mov eax,dword ptr ds:[esi+4]                                                                                            |
68B7B718 | 8941 04                  | mov dword ptr ds:[ecx+4],eax                                                                                            |
68B7B71B | 8B46 08                  | mov eax,dword ptr ds:[esi+8]                                                                                            |
68B7B71E | 8941 08                  | mov dword ptr ds:[ecx+8],eax                                                                                            |
68B7B721 | 8B46 0C                  | mov eax,dword ptr ds:[esi+C]                                                                                            |
68B7B724 | 8941 0C                  | mov dword ptr ds:[ecx+C],eax                                                                                            |
68B7B727 | 8B46 10                  | mov eax,dword ptr ds:[esi+10]                                                                                           |
68B7B72A | 8941 10                  | mov dword ptr ds:[ecx+10],eax                                                                                           |
68B7B72D | 8B46 14                  | mov eax,dword ptr ds:[esi+14]                                                                                           |
68B7B730 | 8941 14                  | mov dword ptr ds:[ecx+14],eax                                                                                           |
68B7B733 | 8B41 18                  | mov eax,dword ptr ds:[ecx+18]                                                                                           |
68B7B736 | 8B40 08                  | mov eax,dword ptr ds:[eax+8]                                                                                            |
68B7B739 | 8B40 6C                  | mov eax,dword ptr ds:[eax+6C]                                                                                           |
68B7B73C | 85C0                     | test eax,eax                                                                                                            |
68B7B73E | 0F84 5C120800            | je d2d1.68BFC9A0                                                                                                        |
68B7B744 | 8D70 10                  | lea esi,dword ptr ds:[eax+10]                                                                                           |
68B7B747 | 807E 04 00               | cmp byte ptr ds:[esi+4],0                                                                                               |
68B7B74B | 0F85 56120800            | jne d2d1.68BFC9A7                                                                                                       |
68B7B751 | 837F 70 00               | cmp dword ptr ds:[edi+70],0                                                                                             |
68B7B755 | 75 21                    | jne d2d1.68B7B778                                                                                                       |
68B7B757 | 8B83 E00D0000            | mov eax,dword ptr ds:[ebx+DE0]                                                                                          |
68B7B75D | 8B53 14                  | mov edx,dword ptr ds:[ebx+14]                                                                                           |
68B7B760 | 8B88 B0850000            | mov ecx,dword ptr ds:[eax+85B0]                                                                                         |
68B7B766 | 898D 8CFDFFFF            | mov dword ptr ss:[ebp-274],ecx                                                                                          |
68B7B76C | 398B D4000000            | cmp dword ptr ds:[ebx+D4],ecx                                                                                           |
68B7B772 | 0F85 BB040000            | jne d2d1.68B7BC33                                                                                                       |
68B7B778 | 8B77 6C                  | mov esi,dword ptr ds:[edi+6C]                                                                                           |
68B7B77B | 85F6                     | test esi,esi                                                                                                            |
68B7B77D | 0F85 B5020000            | jne d2d1.68B7BA38                                                                                                       |
68B7B783 | 80BB C4000000 00         | cmp byte ptr ds:[ebx+C4],0                                                                                              |
68B7B78A | 0F85 AF030000            | jne d2d1.68B7BB3F                                                                                                       |
68B7B790 | 8BBD 74FDFFFF            | mov edi,dword ptr ss:[ebp-28C]                                                                                          |
68B7B796 | 8B87 90000000            | mov eax,dword ptr ds:[edi+90]                                                                                           |
68B7B79C | 85C0                     | test eax,eax                                                                                                            |
68B7B79E | 0F85 4E020000            | jne d2d1.68B7B9F2                                                                                                       |
68B7B7A4 | 8B83 1C4C0100            | mov eax,dword ptr ds:[ebx+14C1C]                                                                                        |
68B7B7AA | 8B40 08                  | mov eax,dword ptr ds:[eax+8]                                                                                            |
68B7B7AD | 8B40 1C                  | mov eax,dword ptr ds:[eax+1C]                                                                                           |
68B7B7B0 | 8985 ACFDFFFF            | mov dword ptr ss:[ebp-254],eax                                                                                          |
68B7B7B6 | 8B85 7CFDFFFF            | mov eax,dword ptr ss:[ebp-284]                                                                                          |
68B7B7BC | 8985 D4FDFFFF            | mov dword ptr ss:[ebp-22C],eax                                                                                          |
68B7B7C2 | B8 01000000              | mov eax,1                                                                                                               |
68B7B7C7 | C785 C0FDFFFF 0C000000   | mov dword ptr ss:[ebp-240],C                                                                                            | C:'\f'
68B7B7D1 | C785 A8FDFFFF 01000000   | mov dword ptr ss:[ebp-258],1                                                                                            |
68B7B7DB | 0F1F4400 00              | nop dword ptr ds:[eax+eax],eax                                                                                          |
68B7B7E0 | C78485 ACFDFFFF 00000000 | mov dword ptr ss:[ebp+eax*4-254],0                                                                                      |
68B7B7EB | C78485 C0FDFFFF 00000000 | mov dword ptr ss:[ebp+eax*4-240],0                                                                                      |
68B7B7F6 | C78485 D4FDFFFF 00000000 | mov dword ptr ss:[ebp+eax*4-22C],0                                                                                      |
68B7B801 | 40                       | inc eax                                                                                                                 |
68B7B802 | 83F8 05                  | cmp eax,5                                                                                                               |
68B7B805 | 72 D9                    | jb d2d1.68B7B7E0                                                                                                        |
68B7B807 | 8B73 7C                  | mov esi,dword ptr ds:[ebx+7C]                                                                                           |
68B7B80A | 8D7B 7C                  | lea edi,dword ptr ds:[ebx+7C]                                                                                           |
68B7B80D | 3BB5 A8FDFFFF            | cmp esi,dword ptr ss:[ebp-258]                                                                                          |
68B7B813 | 0F85 03010000            | jne d2d1.68B7B91C                                                                                                       |
68B7B819 | 33D2                     | xor edx,edx                                                                                                             |
68B7B81B | 85F6                     | test esi,esi                                                                                                            |
68B7B81D | 74 61                    | je d2d1.68B7B880                                                                                                        |
68B7B81F | 8D85 A8FDFFFF            | lea eax,dword ptr ss:[ebp-258]                                                                                          |
68B7B825 | 2BC7                     | sub eax,edi                                                                                                             |
68B7B827 | 8D4F 18                  | lea ecx,dword ptr ds:[edi+18]                                                                                           |
68B7B82A | 8985 68FDFFFF            | mov dword ptr ss:[ebp-298],eax                                                                                          |
68B7B830 | 8D85 BCFDFFFF            | lea eax,dword ptr ss:[ebp-244]                                                                                          |
68B7B836 | 2BC7                     | sub eax,edi                                                                                                             |
68B7B838 | 8985 8CFDFFFF            | mov dword ptr ss:[ebp-274],eax                                                                                          |
68B7B83E | 66:90                    | nop                                                                                                                     |
68B7B840 | 8B41 EC                  | mov eax,dword ptr ds:[ecx-14]                                                                                           |
68B7B843 | 3B8495 ACFDFFFF          | cmp eax,dword ptr ss:[ebp+edx*4-254]                                                                                    |
68B7B84A | 0F85 CC000000            | jne d2d1.68B7B91C                                                                                                       |
68B7B850 | 8BB5 68FDFFFF            | mov esi,dword ptr ss:[ebp-298]                                                                                          |
68B7B856 | 8B01                     | mov eax,dword ptr ds:[ecx]                                                                                              |
68B7B858 | 3B040E                   | cmp eax,dword ptr ds:[esi+ecx]                                                                                          |
68B7B85B | 8B37                     | mov esi,dword ptr ds:[edi]                                                                                              |
68B7B85D | 0F85 B9000000            | jne d2d1.68B7B91C                                                                                                       |
68B7B863 | 8BBD 8CFDFFFF            | mov edi,dword ptr ss:[ebp-274]                                                                                          |
68B7B869 | 8B41 14                  | mov eax,dword ptr ds:[ecx+14]                                                                                           |
68B7B86C | 3B040F                   | cmp eax,dword ptr ds:[edi+ecx]                                                                                          |
68B7B86F | 8D7B 7C                  | lea edi,dword ptr ds:[ebx+7C]                                                                                           |
68B7B872 | 0F85 A4000000            | jne d2d1.68B7B91C                                                                                                       |
68B7B878 | 42                       | inc edx                                                                                                                 |
68B7B879 | 83C1 04                  | add ecx,4                                                                                                               |
68B7B87C | 3BD6                     | cmp edx,esi                                                                                                             |
68B7B87E | 72 C0                    | jb d2d1.68B7B840                                                                                                        |

68B7B880 | 8B83 F80D0000            | mov eax,dword ptr ds:[ebx+DF8]     ; 1 = eax = ( ebx = ecx ) = this->off_df8h  = CHwSurfaceRenderTarget->off_21ch->off_df8h                                                                             |
68B7B886 | FFB5 78FDFFFF            | push dword ptr ss:[ebp-288]                                                                                             |
68B7B88C | FFB5 84FDFFFF            | push dword ptr ss:[ebp-27C]                                                                                             |
68B7B892 | 8B08                     | mov ecx,dword ptr ds:[eax]                                                                                              |
68B7B894 | 50                       | push eax                           ; arg0->off_6b00 = CORRUPTION_PTR | arg0 !!!                                                                                                      |
68B7B895 | 8B71 34                  | mov esi,dword ptr ds:[ecx+34]                                                                                           |
68B7B898 | 8BCE                     | mov ecx,esi                                                                                                             |
68B7B89A | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                                         |
68B7B8A0 | FFD6                     | call esi     ; call d3d11.CContext::TID3D11DeviceContext_Draw_<1>+46( )      ! call crash                                                                                                     |

68B7B8A2 | 8BBD 74FDFFFF            | mov edi,dword ptr ss:[ebp-28C]                                                                                          |
68B7B8A8 | 8BB5 88FDFFFF            | mov esi,dword ptr ss:[ebp-278]                                                                                          | [ebp-278]:struct SJournalEntry * Journal+13F8
68B7B8AE | 8B8D 70FDFFFF            | mov ecx,dword ptr ss:[ebp-290]                                                                                          |
68B7B8B4 | 8B47 68                  | mov eax,dword ptr ds:[edi+68]                                                                                           |
68B7B8B7 | 41                       | inc ecx                                                                                                                 |
68B7B8B8 | 898D 70FDFFFF            | mov dword ptr ss:[ebp-290],ecx                                                                                          |
68B7B8BE | 3B48 04                  | cmp ecx,dword ptr ds:[eax+4]                                                                                            |
68B7B8C1 | 0F82 7C140800            | jb d2d1.68BFCD43                                                                                                        |
68B7B8C7 | 8B8D 64FDFFFF            | mov ecx,dword ptr ss:[ebp-29C]                                                                                          |
68B7B8CD | 8B11                     | mov edx,dword ptr ds:[ecx]                                                                                              |
68B7B8CF | 8D0432                   | lea eax,dword ptr ds:[edx+esi]                                                                                          |
68B7B8D2 | 8901                     | mov dword ptr ds:[ecx],eax                                                                                              |
68B7B8D4 | 33C0                     | xor eax,eax                                                                                                             |
68B7B8D6 | 8B4D FC                  | mov ecx,dword ptr ss:[ebp-4]                                                                                            |
68B7B8D9 | 5F                       | pop edi                                                                                                                 |
68B7B8DA | 5E                       | pop esi                                                                                                                 |
68B7B8DB | 33CD                     | xor ecx,ebp                                                                                                             |
68B7B8DD | 5B                       | pop ebx                                                                                                                 |
68B7B8DE | E8 2D620400              | call <d2d1.@__security_check_cookie@4>                                                                                  |
68B7B8E3 | 8BE5                     | mov esp,ebp                                                                                                             |
68B7B8E5 | 5D                       | pop ebp                                                                                                                 |
68B7B8E6 | C2 0800                  | ret 8                                                                                                                   |

4. d2d1.CD3DDeviceLevel1::ProcessDeferredOperations


68B7C0A0 | 66:90                    | nop                                                         |
68B7C0A2 | 55                       | push ebp                                                    |
68B7C0A3 | 8BEC                     | mov ebp,esp                                                 |
68B7C0A5 | 81EC C0010000            | sub esp,1C0                                                 |
68B7C0AB | A1 1454D468              | mov eax,dword ptr ds:[<___security_cookie>]                 |
68B7C0B0 | 33C5                     | xor eax,ebp                                                 |
68B7C0B2 | 8945 F8                  | mov dword ptr ss:[ebp-8],eax                                |
68B7C0B5 | 53                       | push ebx                                                    |

68B7C0B6 | 8BD9                     | mov ebx,ecx                                     ; 0 - ebx = ecx = (this)            |

68B7C0B8 | C685 61FFFFFF 00         | mov byte ptr ss:[ebp-9F],0                                  |
68B7C0BF | 56                       | push esi                                                    |
68B7C0C0 | 57                       | push edi                                                    |

68B7C0C1 | 895D A0                  | mov dword ptr ss:[ebp-60],ebx     ;CHwSurfaceRenderTarget->off_21ch               ; 1 - local_60 = this          |

68B7C0C4 | 8B8B FC0D0000            | mov ecx,dword ptr ds:[ebx+DFC]                              |

68B7C0CA | 898D 5CFFFFFF            | mov dword ptr ss:[ebp-A4],ecx                               |
68B7C0D0 | 8379 30 00               | cmp dword ptr ds:[ecx+30],0                                 | ; if ( this->off_30h != 0)
68B7C0D4 | 0F85 4D0B0000            | jne <d2d1.No_NULL_1>                                        |
68B7C0DA | 8079 74 00               | cmp byte ptr ds:[ecx+74],0                                  |
68B7C0DE | 0F85 430B0000            | jne <d2d1.No_NULL_1>                                        |
68B7C0E4 | C685 60FFFFFF 01         | mov byte ptr ss:[ebp-A0],1                                  |
68B7C0EB | 8BB1 B8000000            | mov esi,dword ptr ds:[ecx+B8]                               |
68B7C0F1 | 33C0                     | xor eax,eax                                                 |
68B7C0F3 | 3BF3                     | cmp esi,ebx                                                 |
68B7C0F5 | 8BFB                     | mov edi,ebx                                                 |
68B7C0F7 | 0F45F8                   | cmovne edi,eax                                              |
68B7C0FA | 3845 08                  | cmp byte ptr ss:[ebp+8],al                                  |
68B7C0FD | 0F44F8                   | cmove edi,eax                                               |
68B7C100 | 89BD 64FFFFFF            | mov dword ptr ss:[ebp-9C],edi                               |
68B7C106 | 85FF                     | test edi,edi                                                |
68B7C108 | 0F85 740A0000            | jne d2d1.68B7CB82                                           |
68B7C10E | 3BF3                     | cmp esi,ebx                                                 |
68B7C110 | 75 0E                    | jne d2d1.68B7C120                                           |
68B7C112 | 8B93 F44C0100            | mov edx,dword ptr ds:[ebx+14CF4]                            |
68B7C118 | 85D2                     | test edx,edx                                                |
68B7C11A | 0F85 550B0000            | jne d2d1.68B7CC75                                           |
68B7C120 | 8BB3 2C0E0000            | mov esi,dword ptr ds:[ebx+E2C]                              |
68B7C126 | C645 9F 01               | mov byte ptr ss:[ebp-61],1                                  |
68B7C12A | C785 68FFFFFF 00000000   | mov dword ptr ss:[ebp-98],0                                 |
68B7C134 | 89B5 78FFFFFF            | mov dword ptr ss:[ebp-88],esi                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C13A | 8B8E 1C020000            | mov ecx,dword ptr ds:[esi+21C]                              |
68B7C140 | E8 8D190000              | call <d2d1.public: void __thiscall CD3DRenderState::EnsureC |
68B7C145 | 8B86 1C020000            | mov eax,dword ptr ds:[esi+21C]                              |
68B7C14B | 0F57C0                   | xorps xmm0,xmm0                                             |
68B7C14E | 0F1185 44FFFFFF          | movups xmmword ptr ss:[ebp-BC],xmm0                         |
68B7C155 | C745 EC 00000000         | mov dword ptr ss:[ebp-14],0                                 |
68B7C15C | C745 F0 00000000         | mov dword ptr ss:[ebp-10],0                                 |

68B7C163 | 8B48 14                  | mov ecx,dword ptr ds:[eax+14]                               |

68B7C166 | 8DB0 08010000            | lea esi,dword ptr ds:[eax+108]                              |
68B7C16C | F3:0F7E45 EC             | movq xmm0,qword ptr ss:[ebp-14]                             |
68B7C171 | 8D85 44FFFFFF            | lea eax,dword ptr ss:[ebp-BC]                               |
68B7C177 | 50                       | push eax                                                    |
68B7C178 | 6A 06                    | push 6                                                      |
68B7C17A | 6A 00                    | push 0                                                      |
68B7C17C | 51                       | push ecx                                                    |
68B7C17D | 898D 7CFFFFFF            | mov dword ptr ss:[ebp-84],ecx                               |
68B7C183 | 66:0FD685 54FFFFFF       | movq qword ptr ss:[ebp-AC],xmm0                             |
68B7C18B | E8 001F0500              | call <d2d1.[thunk]: __stdcall ID3D11DeviceContext::`vcall'{ |
68B7C190 | 8B85 44FFFFFF            | mov eax,dword ptr ss:[ebp-BC]                               |
68B7C196 | 8906                     | mov dword ptr ds:[esi],eax                                  |
68B7C198 | 8B85 48FFFFFF            | mov eax,dword ptr ss:[ebp-B8]                               |
68B7C19E | 8946 04                  | mov dword ptr ds:[esi+4],eax                                |
68B7C1A1 | 8B85 4CFFFFFF            | mov eax,dword ptr ss:[ebp-B4]                               |
68B7C1A7 | 8946 08                  | mov dword ptr ds:[esi+8],eax                                |
68B7C1AA | 8B85 50FFFFFF            | mov eax,dword ptr ss:[ebp-B0]                               |
68B7C1B0 | 8946 0C                  | mov dword ptr ds:[esi+C],eax                                |
68B7C1B3 | 8B85 54FFFFFF            | mov eax,dword ptr ss:[ebp-AC]                               |
68B7C1B9 | 8946 10                  | mov dword ptr ds:[esi+10],eax                               |
68B7C1BC | 8B85 58FFFFFF            | mov eax,dword ptr ss:[ebp-A8]                               |
68B7C1C2 | 8946 14                  | mov dword ptr ds:[esi+14],eax                               |
68B7C1C5 | 8B46 18                  | mov eax,dword ptr ds:[esi+18]                               |
68B7C1C8 | 8B40 08                  | mov eax,dword ptr ds:[eax+8]                                |
68B7C1CB | 8B40 6C                  | mov eax,dword ptr ds:[eax+6C]                               |
68B7C1CE | 85C0                     | test eax,eax                                                |
68B7C1D0 | 0F84 040C0800            | je d2d1.68BFCDDA                                            |
68B7C1D6 | 83C0 10                  | add eax,10                                                  |
68B7C1D9 | 8945 94                  | mov dword ptr ss:[ebp-6C],eax                               |
68B7C1DC | 8A40 04                  | mov al,byte ptr ds:[eax+4]                                  |
68B7C1DF | 84C0                     | test al,al                                                  |
68B7C1E1 | 0F85 FA0B0800            | jne d2d1.68BFCDE1                                           |
68B7C1E7 | 8B95 78FFFFFF            | mov edx,dword ptr ss:[ebp-88]                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C1ED | 8B82 28020000            | mov eax,dword ptr ds:[edx+228]                              |
68B7C1F3 | 8BB2 1C020000            | mov esi,dword ptr ds:[edx+21C]                              |

68B7C1F9 | 8B88 48DE0000            | mov ecx,dword ptr ds:[eax+DE48]                             |

68B7C1FF | 8B86 E00D0000            | mov eax,dword ptr ds:[esi+DE0]                              |
68B7C205 | 8B8488 20850000          | mov eax,dword ptr ds:[eax+ecx*4+8520]                       |
68B7C20C | 8985 7CFFFFFF            | mov dword ptr ss:[ebp-84],eax                               |
68B7C212 | 3946 18                  | cmp dword ptr ds:[esi+18],eax                               |
68B7C215 | 0F85 C5080000            | jne d2d1.68B7CAE0                                           |
68B7C21B | 8D83 48EC0000            | lea eax,dword ptr ds:[ebx+EC48]                             |
68B7C221 | C783 A44C0100 00000000   | mov dword ptr ds:[ebx+14CA4],0                              |
68B7C22B | 8BB3 4CEC0000            | mov esi,dword ptr ds:[ebx+EC4C]                             |
68B7C231 | 8985 7CFFFFFF            | mov dword ptr ss:[ebp-84],eax                               |
68B7C237 | 3BF0                     | cmp esi,eax                                                 |
68B7C239 | 0F84 8F050000            | je d2d1.68B7C7CE                                            |
68B7C23F | 8B46 20                  | mov eax,dword ptr ds:[esi+20]                               |
68B7C242 | 8D5E 20                  | lea ebx,dword ptr ds:[esi+20]                               |
68B7C245 | 895D 98                  | mov dword ptr ss:[ebp-68],ebx                               |
68B7C248 | 83F8 14                  | cmp eax,14                                                  |
68B7C24B | 77 43                    | ja d2d1.68B7C290                                            |
68B7C24D | FF2485 0CCDB768          | jmp dword ptr ds:[eax*4+68B7CD0C]                           | eax*4+68B7CD0C:CReconstructorBase::ProcessFillChains+11F

68B7C254 | 8B4D A0                  | mov ecx,dword ptr ss:[ebp-60]                               |

68B7C257 | 8D53 08                  | lea edx,dword ptr ds:[ebx+8]                                |
68B7C25A | 8955 8C                  | mov dword ptr ss:[ebp-74],edx                               |
68B7C25D | 85D2                     | test edx,edx                                                |
68B7C25F | 0F84 7E0D0800            | je <d2d1.sub_68BFCFE3>                                      |
68B7C265 | 8B02                     | mov eax,dword ptr ds:[edx]                                  |
68B7C267 | 3B81 78010000            | cmp eax,dword ptr ds:[ecx+178]                              |
68B7C26D | 75 5A                    | jne d2d1.68B7C2C9                                           |
68B7C26F | 8B42 04                  | mov eax,dword ptr ds:[edx+4]                                |
68B7C272 | 3B81 7C010000            | cmp eax,dword ptr ds:[ecx+17C]                              |
68B7C278 | 75 4F                    | jne d2d1.68B7C2C9                                           |
68B7C27A | 8B42 08                  | mov eax,dword ptr ds:[edx+8]                                |
68B7C27D | 3B81 80010000            | cmp eax,dword ptr ds:[ecx+180]                              |
68B7C283 | 75 44                    | jne d2d1.68B7C2C9                                           |
68B7C285 | 8B42 0C                  | mov eax,dword ptr ds:[edx+C]                                |
68B7C288 | 3B81 84010000            | cmp eax,dword ptr ds:[ecx+184]                              |
68B7C28E | 75 39                    | jne d2d1.68B7C2C9                                           |
68B7C290 | 8B76 04                  | mov esi,dword ptr ds:[esi+4]                                |
68B7C293 | 8B85 7CFFFFFF            | mov eax,dword ptr ss:[ebp-84]                               |
68B7C299 | EB 9C                    | jmp d2d1.68B7C237                                           |
68B7C29B | 8B43 08                  | mov eax,dword ptr ds:[ebx+8]                                |
68B7C29E | 50                       | push eax                                                    |

68B7C29F | 8B08                     | mov ecx,dword ptr ds:[eax]                                  |
68B7C2A1 | 8B59 0C                  | mov ebx,dword ptr ds:[ecx+C]                                |
68B7C2A4 | 8BCB                     | mov ecx,ebx                                                 |

68B7C2A6 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]             |
68B7C2AC | FFD3                     | call ebx                                                    |
68B7C2AE | 8BD8                     | mov ebx,eax                                                 |
68B7C2B0 | 85DB                     | test ebx,ebx                                                |
68B7C2B2 | 0F88 DE0D0800            | js <d2d1.sub_68BFD096>                                      |
68B7C2B8 | 8B4D A0                  | mov ecx,dword ptr ss:[ebp-60]                               |
68B7C2BB | E8 E0140000              | call <d2d1.CD3DRenderState::ResetInteropState>              |
68B7C2C0 | 85DB                     | test ebx,ebx                                                |
68B7C2C2 | 79 CC                    | jns d2d1.68B7C290                                           |
68B7C2C4 | E9 23050000              | jmp d2d1.68B7C7EC                                           |
68B7C2C9 | 8B41 14                  | mov eax,dword ptr ds:[ecx+14]                               |
68B7C2CC | 52                       | push edx                                                    |
68B7C2CD | 6A 01                    | push 1                                                      |
68B7C2CF | 50                       | push eax                                                    |

68B7C2D0 | 8B08                     | mov ecx,dword ptr ds:[eax]                                  |
68B7C2D2 | 8B99 B4000000            | mov ebx,dword ptr ds:[ecx+B4]                               |
68B7C2D8 | 8BCB                     | mov ecx,ebx                                                 |

68B7C2DA | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]             |
68B7C2E0 | FFD3                     | call ebx                                                    |
68B7C2E2 | 8B45 8C                  | mov eax,dword ptr ss:[ebp-74]                               |
68B7C2E5 | 0F1000                   | movups xmm0,xmmword ptr ds:[eax]                            |
68B7C2E8 | 8B45 A0                  | mov eax,dword ptr ss:[ebp-60]                               |
68B7C2EB | 0F1180 78010000          | movups xmmword ptr ds:[eax+178],xmm0                        |
68B7C2F2 | 8B76 04                  | mov esi,dword ptr ds:[esi+4]                                |
68B7C2F5 | 8B85 7CFFFFFF            | mov eax,dword ptr ss:[ebp-84]                               |
68B7C2FB | E9 37FFFFFF              | jmp d2d1.68B7C237                                           |
68B7C300 | 807D 9F 00               | cmp byte ptr ss:[ebp-61],0                                  |
68B7C304 | 0F85 E0050000            | jne d2d1.68B7C8EA                                           |
68B7C30A | 8B53 08                  | mov edx,dword ptr ds:[ebx+8]                                |
68B7C30D | 8D43 08                  | lea eax,dword ptr ds:[ebx+8]                                |
68B7C310 | 8945 88                  | mov dword ptr ss:[ebp-78],eax                               | [ebp-78]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+499
68B7C313 | 8B45 A0                  | mov eax,dword ptr ss:[ebp-60]                               |
68B7C316 | 8B80 FC0D0000            | mov eax,dword ptr ds:[eax+DFC]                              |
68B7C31C | 8B48 50                  | mov ecx,dword ptr ds:[eax+50]                               |
68B7C31F | 894D 90                  | mov dword ptr ss:[ebp-70],ecx                               |
68B7C322 | 8379 18 00               | cmp dword ptr ds:[ecx+18],0                                 |
68B7C326 | 0F85 E90A0800            | jne d2d1.68BFCE15                                           |
68B7C32C | F3:0F100D 6405A368       | movss xmm1,dword ptr ds:[<__real@3f800000>]                 |
68B7C334 | 85D2                     | test edx,edx                                                |
68B7C336 | 0F84 A5000000            | je d2d1.68B7C3E1                                            |
68B7C33C | 8079 3B 00               | cmp byte ptr ds:[ecx+3B],0                                  |
68B7C340 | 0F84 9B000000            | je d2d1.68B7C3E1                                            |

68B7C346 | 66:0F6EC2                | movd xmm0,edx                                               |
68B7C34A | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                          |
68B7C34E | C1EA 1F                  | shr edx,1F                                                  |
68B7C351 | F2:0F5804D5 C0B2AB68     | addsd xmm0,qword ptr ds:[edx*8+<__xmm@41f000000000000000000 | edx*8+68ABB2C0:CMultistepScaler::MapOutputRectToInputRects+100
68B7C35A | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                          |
68B7C35E | F3:0F59C1                | mulss xmm0,xmm1                                             |
68B7C362 | F3:0F5F05 6005A368       | maxss xmm0,dword ptr ds:[<__real@00000000>]                 |
68B7C36A | 0F2F05 74D28B68          | comiss xmm0,dword ptr ds:[<__real@4f800000>]                |
68B7C371 | F3:0F1185 78FFFFFF       | movss dword ptr ss:[ebp-88],xmm0                            | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C379 | 0F83 A30A0800            | jae d2d1.68BFCE22                                           |
68B7C37F | D985 78FFFFFF            | fld st(0),dword ptr ss:[ebp-88]                             | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C385 | D97D 9A                  | fnstcw word ptr ss:[ebp-66]                                 |
68B7C388 | 0FB745 9A                | movzx eax,word ptr ss:[ebp-66]                              |
68B7C38C | 0D 000C0000              | or eax,C00                                                  |
68B7C391 | 8985 78FFFFFF            | mov dword ptr ss:[ebp-88],eax                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C397 | D9AD 78FFFFFF            | fldcw word ptr ss:[ebp-88]                                  |
68B7C39D | DFBD 74FFFFFF            | fistp qword ptr ss:[ebp-8C],st(0)                           |
68B7C3A3 | 8B85 74FFFFFF            | mov eax,dword ptr ss:[ebp-8C]                               |
68B7C3A9 | D96D 9A                  | fldcw word ptr ss:[ebp-66]                                  |
68B7C3AC | 8B51 0C                  | mov edx,dword ptr ds:[ecx+C]                                |
68B7C3AF | 8945 94                  | mov dword ptr ss:[ebp-6C],eax                               |
68B7C3B2 | 8B41 08                  | mov eax,dword ptr ds:[ecx+8]                                |
68B7C3B5 | 8945 8C                  | mov dword ptr ss:[ebp-74],eax                               |
68B7C3B8 | 8B45 94                  | mov eax,dword ptr ss:[ebp-6C]                               |

68B7C3BB | 8D0C02                   | lea ecx,dword ptr ds:[edx+eax]                              |

68B7C3BE | 894D 98                  | mov dword ptr ss:[ebp-68],ecx                               |
68B7C3C1 | 3BCA                     | cmp ecx,edx                                                 |

68B7C3C3 | 8B4D 90                  | mov ecx,dword ptr ss:[ebp-70]                               |

68B7C3C6 | 0F82 FA080000            | jb d2d1.68B7CCC6                                            |

68B7C3CC | 8B4D 8C                  | mov ecx,dword ptr ss:[ebp-74]                               |
68B7C3CF | 394D 98                  | cmp dword ptr ss:[ebp-68],ecx                               |

68B7C3D2 | 8B4D 90                  | mov ecx,dword ptr ss:[ebp-70]                               |

68B7C3D5 | 0F87 DF080000            | ja d2d1.68B7CCBA                                            |

68B7C3DB | 8B45 98                  | mov eax,dword ptr ss:[ebp-68]                               |
68B7C3DE | 8941 0C                  | mov dword ptr ds:[ecx+C],eax                                |
68B7C3E1 | 807B 28 00               | cmp byte ptr ds:[ebx+28],0                                  |

68B7C3E5 | 8B4D A0                  | mov ecx,dword ptr ss:[ebp-60]      ;0  - this                       |

68B7C3E8 | 894D B4                  | mov dword ptr ss:[ebp-4C],ecx                               |
68B7C3EB | C645 C8 00               | mov byte ptr ss:[ebp-38],0                                  |
68B7C3EF | 0F85 14040000            | jne d2d1.68B7C809                                           |

68B7C3F5 | 8D85 68FFFFFF            | lea eax,dword ptr ss:[ebp-98]                               |
68B7C3FB | 50                       | push eax                                                    |
68B7C3FC | 53                       | push ebx                                                    |
68B7C3FD | E8 CEF0FFFF              | call <d2d1.CD3DDeviceLevel1::DrawDynamicVB>  call call call crash // ! ecx !               |

68B7C402 | 8BD8                     | mov ebx,eax                                                 |
68B7C404 | 85DB                     | test ebx,ebx                                                |
68B7C406 | 0F88 DB0C0800            | js d2d1.68BFD0E7                                            |
68B7C40C | 807D C8 00               | cmp byte ptr ss:[ebp-38],0                                  |
68B7C410 | 0F84 7AFEFFFF            | je d2d1.68B7C290                                            |
68B7C416 | 8B4D B4                  | mov ecx,dword ptr ss:[ebp-4C]                               |
68B7C419 | 8D45 B8                  | lea eax,dword ptr ss:[ebp-48]                               |
68B7C41C | 50                       | push eax                                                    |
68B7C41D | E8 31130000              | call <d2d1.public: void __thiscall CD3DRenderState::SetClip |
68B7C422 | 8B76 04                  | mov esi,dword ptr ds:[esi+4]                                |
68B7C425 | 8B85 7CFFFFFF            | mov eax,dword ptr ss:[ebp-84]                               |
68B7C42B | E9 07FEFFFF              | jmp d2d1.68B7C237                                           |
68B7C430 | 8B43 08                  | mov eax,dword ptr ds:[ebx+8]                                |
68B7C433 | 8B53 0C                  | mov edx,dword ptr ds:[ebx+C]                                |
68B7C436 | 8B5D A0                  | mov ebx,dword ptr ss:[ebp-60]                               |
68B7C439 | 8D4B 40                  | lea ecx,dword ptr ds:[ebx+40]                               |
68B7C43C | 8955 94                  | mov dword ptr ss:[ebp-6C],edx                               |
68B7C43F | 8945 90                  | mov dword ptr ss:[ebp-70],eax                               |
68B7C442 | 898D 78FFFFFF            | mov dword ptr ss:[ebp-88],ecx                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C448 | 3901                     | cmp dword ptr ds:[ecx],eax                                  |
68B7C44A | 0F84 8C040000            | je d2d1.68B7C8DC                                            |
68B7C450 | 83B8 80000000 00         | cmp dword ptr ds:[eax+80],0                                 |
68B7C457 | 74 2D                    | je d2d1.68B7C486                                            |
68B7C459 | 8D85 2CFFFFFF            | lea eax,dword ptr ss:[ebp-D4]                               | [ebp-D4]:public: static void __stdcall Js::JavascriptOperators::CallSetter(class Js::RecyclableObject * const,void * const,void * const,class Js::ScriptContext * const)+4B
68B7C45F | 0F57C0                   | xorps xmm0,xmm0                                             |
68B7C462 | 50                       | push eax                                                    |
68B7C463 | FF73 14                  | push dword ptr ds:[ebx+14]                                  |
68B7C466 | 8D8B 08010000            | lea ecx,dword ptr ds:[ebx+108]                              |
68B7C46C | 66:0FD685 3CFFFFFF       | movq qword ptr ss:[ebp-C4],xmm0                             |
68B7C474 | 0F1185 2CFFFFFF          | movups xmmword ptr ss:[ebp-D4],xmm0                         |
68B7C47B | E8 24FF0200              | call <d2d1.StateSetter<InterfaceSetStateHolder<ID3D11Shader |
68B7C480 | 8B55 94                  | mov edx,dword ptr ss:[ebp-6C]                               |
68B7C483 | 8D4B 40                  | lea ecx,dword ptr ds:[ebx+40]                               |
68B7C486 | 8B43 14                  | mov eax,dword ptr ds:[ebx+14]                               |
68B7C489 | 8945 98                  | mov dword ptr ss:[ebp-68],eax                               |
68B7C48C | 8B45 90                  | mov eax,dword ptr ss:[ebp-70]                               |
68B7C48F | 3901                     | cmp dword ptr ds:[ecx],eax                                  |
68B7C491 | 0F84 640B0800            | je d2d1.68BFCFFB                                            |
68B7C497 | 8B80 A4000000            | mov eax,dword ptr ds:[eax+A4]                               |
68B7C49D | 8945 88                  | mov dword ptr ss:[ebp-78],eax                               | [ebp-78]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+499
68B7C4A0 | 85D2                     | test edx,edx                                                |
68B7C4A2 | 0F85 FE030000            | jne d2d1.68B7C8A6                                           |
68B7C4A8 | 8B45 90                  | mov eax,dword ptr ss:[ebp-70]                               |
68B7C4AB | 8955 8C                  | mov dword ptr ss:[ebp-74],edx                               |
68B7C4AE | 8A40 2D                  | mov al,byte ptr ds:[eax+2D]                                 |
68B7C4B1 | 3A41 18                  | cmp al,byte ptr ds:[ecx+18]                                 |
68B7C4B4 | 0F85 4F0B0800            | jne d2d1.68BFD009                                           |
68B7C4BA | 8B45 98                  | mov eax,dword ptr ss:[ebp-68]                               |
68B7C4BD | 8D4D 88                  | lea ecx,dword ptr ss:[ebp-78]                               | [ebp-78]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+499
68B7C4C0 | 52                       | push edx                                                    |
68B7C4C1 | 51                       | push ecx                                                    |
68B7C4C2 | 6A 01                    | push 1                                                      |
68B7C4C4 | 8B18                     | mov ebx,dword ptr ds:[eax]                                  |
68B7C4C6 | 50                       | push eax                                                    |
68B7C4C7 | 8B9B 84000000            | mov ebx,dword ptr ds:[ebx+84]                               |
68B7C4CD | 8BCB                     | mov ecx,ebx                                                 |
68B7C4CF | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]             |
68B7C4D5 | FFD3                     | call ebx                                                    |
68B7C4D7 | 8B4D 94                  | mov ecx,dword ptr ss:[ebp-6C]                               |
68B7C4DA | 85C9                     | test ecx,ecx                                                |
68B7C4DC | 0F85 CC030000            | jne d2d1.68B7C8AE                                           |
68B7C4E2 | 33D2                     | xor edx,edx                                                 |
68B7C4E4 | 8B8D 78FFFFFF            | mov ecx,dword ptr ss:[ebp-88]                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C4EA | 8B41 04                  | mov eax,dword ptr ds:[ecx+4]                                |
68B7C4ED | 8951 04                  | mov dword ptr ds:[ecx+4],edx                                |
68B7C4F0 | 85C0                     | test eax,eax                                                |
68B7C4F2 | 0F85 6E060000            | jne d2d1.68B7CB66                                           |
68B7C4F8 | 8B4D 90                  | mov ecx,dword ptr ss:[ebp-70]                               |
68B7C4FB | 51                       | push ecx                                                    |
68B7C4FC | 8B01                     | mov eax,dword ptr ds:[ecx]                                  |
68B7C4FE | 8B18                     | mov ebx,dword ptr ds:[eax]                                  |
68B7C500 | 8BCB                     | mov ecx,ebx                                                 |
68B7C502 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]             |
68B7C508 | FFD3                     | call ebx                                                    |
68B7C50A | 8B9D 78FFFFFF            | mov ebx,dword ptr ss:[ebp-88]                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C510 | 8B4D 90                  | mov ecx,dword ptr ss:[ebp-70]                               |
68B7C513 | 8B03                     | mov eax,dword ptr ds:[ebx]                                  |
68B7C515 | 890B                     | mov dword ptr ds:[ebx],ecx                                  |
68B7C517 | 85C0                     | test eax,eax                                                |
68B7C519 | 0F85 E3040000            | jne d2d1.68B7CA02                                           |
68B7C51F | 8B03                     | mov eax,dword ptr ds:[ebx]                                  |
68B7C521 | C743 08 00000000         | mov dword ptr ds:[ebx+8],0                                  |
68B7C528 | C743 0C 00000000         | mov dword ptr ds:[ebx+C],0                                  |
68B7C52F | 8B48 3C                  | mov ecx,dword ptr ds:[eax+3C]                               |
68B7C532 | 83F9 01                  | cmp ecx,1                                                   |
68B7C535 | 0F86 81060000            | jbe d2d1.68B7CBBC                                           |
68B7C53B | 894B 10                  | mov dword ptr ds:[ebx+10],ecx                               |
68B7C53E | 8B48 40                  | mov ecx,dword ptr ds:[eax+40]                               |
68B7C541 | 83F9 01                  | cmp ecx,1                                                   |
68B7C544 | 0F86 7C060000            | jbe d2d1.68B7CBC6                                           |
68B7C54A | 894B 14                  | mov dword ptr ds:[ebx+14],ecx                               |
68B7C54D | 8A40 2D                  | mov al,byte ptr ds:[eax+2D]                                 |
68B7C550 | 8843 18                  | mov byte ptr ds:[ebx+18],al                                 |
68B7C553 | 8B43 1C                  | mov eax,dword ptr ds:[ebx+1C]                               |
68B7C556 | 8B40 08                  | mov eax,dword ptr ds:[eax+8]                                |
68B7C559 | 8B40 6C                  | mov eax,dword ptr ds:[eax+6C]                               |
68B7C55C | 85C0                     | test eax,eax                                                |
68B7C55E | 0F84 E40A0800            | je d2d1.68BFD048                                            |
68B7C564 | 83C0 10                  | add eax,10                                                  |
68B7C567 | 8078 04 00               | cmp byte ptr ds:[eax+4],0                                   |
68B7C56B | 8985 78FFFFFF            | mov dword ptr ss:[ebp-88],eax                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C571 | 0F85 D80A0800            | jne d2d1.68BFD04F                                           |
68B7C577 | 8B5D A0                  | mov ebx,dword ptr ss:[ebp-60]                               |
68B7C57A | 8B4B 50                  | mov ecx,dword ptr ds:[ebx+50]                               |
68B7C57D | 8D43 48                  | lea eax,dword ptr ds:[ebx+48]                               |
68B7C580 | 8B50 0C                  | mov edx,dword ptr ds:[eax+C]                                |
68B7C583 | F3:0F100D 88D28B68       | movss xmm1,dword ptr ds:[<__real@40000000>]                 |
68B7C58B | 8985 78FFFFFF            | mov dword ptr ss:[ebp-88],eax                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C591 | 8BC1                     | mov eax,ecx                                                 |
68B7C593 | 66:0F6EC1                | movd xmm0,ecx                                               |
68B7C597 | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                          |
68B7C59B | C1E8 1F                  | shr eax,1F                                                  |
68B7C59E | 894D 94                  | mov dword ptr ss:[ebp-6C],ecx                               |
68B7C5A1 | 8D4D CC                  | lea ecx,dword ptr ss:[ebp-34]                               |
68B7C5A4 | 8955 98                  | mov dword ptr ss:[ebp-68],edx                               |
68B7C5A7 | C745 D0 000080BF         | mov dword ptr ss:[ebp-30],BF800000                          | [ebp-30]:CContext::TID3D11DeviceContext_SetShaderResources_<1,4>+D4
68B7C5AE | C745 D8 0000803F         | mov dword ptr ss:[ebp-28],3F800000                          |
68B7C5B5 | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f000000000000000000 | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B7C5BE | 8BC2                     | mov eax,edx                                                 |
68B7C5C0 | C1E8 1F                  | shr eax,1F                                                  |
68B7C5C3 | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                          |
68B7C5C7 | F3:0F5EC8                | divss xmm1,xmm0                                             |
68B7C5CB | 66:0F6EC2                | movd xmm0,edx                                               |
68B7C5CF | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                          |
68B7C5D3 | F3:0F114D CC             | movss dword ptr ss:[ebp-34],xmm1                            |
68B7C5D8 | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f000000000000000000 | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B7C5E1 | F3:0F100D 90D28B68       | movss xmm1,dword ptr ds:[<__real@c0000000>]                 |
68B7C5E9 | 8D83 88010000            | lea eax,dword ptr ds:[ebx+188]                              |
68B7C5EF | 8945 88                  | mov dword ptr ss:[ebp-78],eax                               | [ebp-78]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+499
68B7C5F2 | 8BD0                     | mov edx,eax                                                 |
68B7C5F4 | BB 0C000000              | mov ebx,C                                                   | C:'\f'
68B7C5F9 | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                          |
68B7C5FD | F3:0F5EC8                | divss xmm1,xmm0                                             |
68B7C601 | F3:0F114D D4             | movss dword ptr ss:[ebp-2C],xmm1                            |
68B7C606 | 8B01                     | mov eax,dword ptr ds:[ecx]                                  |
68B7C608 | 3B02                     | cmp eax,dword ptr ds:[edx]                                  |
68B7C60A | 0F85 2C050000            | jne d2d1.68B7CB3C                                           |
68B7C610 | 83C1 04                  | add ecx,4                                                   |
68B7C613 | 83C2 04                  | add edx,4                                                   |
68B7C616 | 83EB 04                  | sub ebx,4                                                   |
68B7C619 | 73 EB                    | jae d2d1.68B7C606                                           |
68B7C61B | 33C0                     | xor eax,eax                                                 |
68B7C61D | 8B55 A0                  | mov edx,dword ptr ss:[ebp-60]                               |
68B7C620 | 85C0                     | test eax,eax                                                |
68B7C622 | 0F85 4A030000            | jne d2d1.68B7C972                                           |
68B7C628 | 8B85 78FFFFFF            | mov eax,dword ptr ss:[ebp-88]                               | [ebp-88]:public: static void __stdcall CContext::UMSetError_(struct D3D10DDI_HRTCORELAYER,long)+48C
68B7C62E | 8B08                     | mov ecx,dword ptr ds:[eax]                                  |
68B7C630 | 3B8A 78010000            | cmp ecx,dword ptr ds:[edx+178]                              |
68B7C636 | 0F85 F7020000            | jne d2d1.68B7C933                                           |
68B7C63C | 8B58 04                  | mov ebx,dword ptr ds:[eax+4]                                |
68B7C63F | 3B9A 7C010000            | cmp ebx,dword ptr ds:[edx+17C]                              |
68B7C645 | 0F85 E8020000            | jne d2d1.68B7C933                                           |
68B7C64B | 8B45 94                  | mov eax,dword ptr ss:[ebp-6C]                               |
68B7C64E | 3B82 80010000            | cmp eax,dword ptr ds:[edx+180]                              |
68B7C654 | 8D42 48                  | lea eax,dword ptr ds:[edx+48]                               |
68B7C657 | 0F85 D6020000            | jne d2d1.68B7C933                                           |
68B7C65D | 8B45 98                  | mov eax,dword ptr ss:[ebp-68]                               |
68B7C660 | 3B82 84010000            | cmp eax,dword ptr ds:[edx+184]                              |
68B7C666 | 8D42 48                  | lea eax,dword ptr ds:[edx+48]                               |
68B7C669 | 0F85 C4020000            | jne d2d1.68B7C933                                           |
68B7C66F | 66:0F6EC1                | movd xmm0,ecx                                               |
68B7C673 | 8BC1                     | mov eax,ecx                                                 |
68B7C675 | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                          |
68B7C679 | C1E8 1F                  | shr eax,1F                                                  |
68B7C67C | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f000000000000000000 | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B7C685 | 8BC3                     | mov eax,ebx                                                 |
68B7C687 | C1E8 1F                  | shr eax,1F                                                  |
68B7C68A | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                          |
68B7C68E | F3:0F1145 DC             | movss dword ptr ss:[ebp-24],xmm0                            |
68B7C693 | 66:0F6EC3                | movd xmm0,ebx                                               |
68B7C697 | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                          |
68B7C69B | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f000000000000000000 | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B7C6A4 | 8B45 94                  | mov eax,dword ptr ss:[ebp-6C]                               |
68B7C6A7 | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                          |
68B7C6AB | F3:0F1145 E0             | movss dword ptr ss:[ebp-20],xmm0                            |
68B7C6B0 | 3BC1                     | cmp eax,ecx                                                 |
68B7C6B2 | 0F82 CD090800            | jb d2d1.68BFD085                                            |
68B7C6B8 | 2BC1                     | sub eax,ecx                                                 |
68B7C6BA | 8B4D 98                  | mov ecx,dword ptr ss:[ebp-68]                               |
68B7C6BD | 894D 98                  | mov dword ptr ss:[ebp-68],ecx                               |
68B7C6C0 | 66:0F6EC0                | movd xmm0,eax                                               |
68B7C6C4 | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                          |
68B7C6C8 | C1E8 1F                  | shr eax,1F                                                  |
68B7C6CB | C745 EC 00000000         | mov dword ptr ss:[ebp-14],0                                 |
68B7C6D2 | C745 F0 0000803F         | mov dword ptr ss:[ebp-10],3F800000                          |
68B7C6D9 | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f000000000000000000 | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B7C6E2 | 8BC1                     | mov eax,ecx                                                 |
68B7C6E4 | 33C9                     | xor ecx,ecx                                                 |
68B7C6E6 | 2BC3                     | sub eax,ebx                                                 |
68B7C6E8 | 395D 98                  | cmp dword ptr ss:[ebp-68],ebx                               |
68B7C6EB | 0F43C8                   | cmovae ecx,eax                                              |
68B7C6EE | 8B42 14                  | mov eax,dword ptr ds:[edx+14]                               |
68B7C6F1 | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                          |
68B7C6F5 | F3:0F1145 E4             | movss dword ptr ss:[ebp-1C],xmm0                            |
68B7C6FA | 66:0F6EC1                | movd xmm0,ecx                                               |
68B7C6FE | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                          |
68B7C702 | C1E9 1F                  | shr ecx,1F                                                  |
68B7C705 | F2:0F5804CD C0B2AB68     | addsd xmm0,qword ptr ds:[ecx*8+<__xmm@41f000000000000000000 |
68B7C70E | 8D4D DC                  | lea ecx,dword ptr ss:[ebp-24]                               |
68B7C711 | 51                       | push ecx                                                    |
68B7C712 | 6A 01                    | push 1                                                      |
68B7C714 | 50                       | push eax                                                    |
68B7C715 | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                          |
68B7C719 | F3:0F1145 E8             | movss dword ptr ss:[ebp-18],xmm0                            |

68B7C71E | 8B18                     | mov ebx,dword ptr ds:[eax]                                  |
68B7C720 | 8B9B B0000000            | mov ebx,dword ptr ds:[ebx+B0]                               |

68B7C726 | 8BCB                     | mov ecx,ebx                                                 |
68B7C728 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]             |
68B7C72E | FFD3                     | call ebx                                                    |
68B7C730 | 8B45 90                  | mov eax,dword ptr ss:[ebp-70]                               |
68B7C733 | 33D2                     | xor edx,edx                                                 |
68B7C735 | 33C9                     | xor ecx,ecx                                                 |

68B7C737 | 8B58 6C                  | mov ebx,dword ptr ds:[eax+6C]                               |

68B7C73A | 33C0                     | xor eax,eax                                                 |
68B7C73C | 0F1F40 00                | nop dword ptr ds:[eax],eax                                  |
68B7C740 | 3B98 B04AD468            | cmp ebx,dword ptr ds:[eax+68D44AB0]                         | eax+68D44AB0:___guard_check_icall_fptr+3868
68B7C746 | 74 0D                    | je d2d1.68B7C755                                            |
68B7C748 | 83C0 1C                  | add eax,1C                                                  |
68B7C74B | 41                       | inc ecx                                                     |
68B7C74C | 3D 10030000              | cmp eax,310                                                 |
68B7C751 | 72 ED                    | jb d2d1.68B7C740                                            |
68B7C753 | EB 10                    | jmp d2d1.68B7C765                                           |
68B7C755 | 8D04CD 00000000          | lea eax,dword ptr ds:[ecx*8]                                |
68B7C75C | 2BC1                     | sub eax,ecx                                                 |
68B7C75E | 8B1485 C44AD468          | mov edx,dword ptr ds:[eax*4+68D44AC4]                       | eax*4+68D44AC4:___guard_check_icall_fptr+18B64
68B7C765 | 8B4D A0                  | mov ecx,dword ptr ss:[ebp-60]                               |
68B7C768 | 3B91 B8010000            | cmp edx,dword ptr ds:[ecx+1B8]                              |
68B7C76E | 0F85 5C040000            | jne d2d1.68B7CBD0                                           |
68B7C774 | 33D2                     | xor edx,edx                                                 |
68B7C776 | 33C0                     | xor eax,eax                                                 |
68B7C778 | 3B98 B04AD468            | cmp ebx,dword ptr ds:[eax+68D44AB0]                         | eax+68D44AB0:___guard_check_icall_fptr+3868
68B7C77E | 74 10                    | je d2d1.68B7C790                                            |
68B7C780 | 83C0 1C                  | add eax,1C                                                  |
68B7C783 | 42                       | inc edx                                                     |
68B7C784 | 3D 10030000              | cmp eax,310                                                 |
68B7C789 | 72 ED                    | jb d2d1.68B7C778                                            |
68B7C78B | E9 FF080800              | jmp d2d1.68BFD08F                                           |
68B7C790 | 8D04D5 00000000          | lea eax,dword ptr ds:[edx*8]                                |
68B7C797 | 2BC2                     | sub eax,edx                                                 |
68B7C799 | 8B0485 C84AD468          | mov eax,dword ptr ds:[eax*4+68D44AC8]                       | eax*4+68D44AC8:___guard_check_icall_fptr+18B68
68B7C7A0 | C1E8 0D                  | shr eax,D                                                   |
68B7C7A3 | F6D0                     | not al                                                      |
68B7C7A5 | 24 01                    | and al,1                                                    |
68B7C7A7 | 3A81 BC010000            | cmp al,byte ptr ds:[ecx+1BC]                                |
68B7C7AD | 0F84 DDFAFFFF            | je d2d1.68B7C290                                            |
68B7C7B3 | 8881 BC010000            | mov byte ptr ds:[ecx+1BC],al                                |
68B7C7B9 | 8B85 7CFFFFFF            | mov eax,dword ptr ss:[ebp-84]                               |
68B7C7BF | C681 BE010000 01         | mov byte ptr ds:[ecx+1BE],1                                 |
68B7C7C6 | 8B76 04                  | mov esi,dword ptr ds:[esi+4]                                |
68B7C7C9 | E9 69FAFFFF              | jmp d2d1.68B7C237                                           |
68B7C7CE | 8B0D 6C6AD468            | mov ecx,dword ptr ds:[<class Sqm * g_pSqm>]                 |
68B7C7D4 | 85C9                     | test ecx,ecx                                                |
68B7C7D6 | 74 12                    | je d2d1.68B7C7EA                                            |
68B7C7D8 | 8B45 A0                  | mov eax,dword ptr ss:[ebp-60]                               |
68B7C7DB | 8B80 A44C0100            | mov eax,dword ptr ds:[eax+14CA4]                            |
68B7C7E1 | 3B41 08                  | cmp eax,dword ptr ds:[ecx+8]                                |
68B7C7E4 | 0F87 6C040000            | ja d2d1.68B7CC56                                            |
68B7C7EA | 33DB                     | xor ebx,ebx                                                 |
68B7C7EC | 85FF                     | test edi,edi                                                |
68B7C7EE | 0F85 AB030000            | jne d2d1.68B7CB9F                                           |
68B7C7F4 | 8B4D F8                  | mov ecx,dword ptr ss:[ebp-8]                                |
68B7C7F7 | 8BC3                     | mov eax,ebx                                                 |
68B7C7F9 | 5F                       | pop edi                                                     |
68B7C7FA | 5E                       | pop esi                                                     |
68B7C7FB | 33CD                     | xor ecx,ebp                                                 |
68B7C7FD | 5B                       | pop ebx                                                     |
68B7C7FE | E8 0D530400              | call <d2d1.@__security_check_cookie@4>                      |
68B7C803 | 8BE5                     | mov esp,ebp                                                 |
68B7C805 | 5D                       | pop ebp                                                     |
68B7C806 | C2 0400                  | ret 4                                                       |


5. d2d1.CHwSurfaceRenderTarget::FlushQueuedOperations


68B83D60 | 66:90                    | nop                                                                                                   | ; wywolywane z StageManagerBase::AllocateHeapRect
68B83D62 | 55                       | push ebp                                                                                              |
68B83D63 | 8BEC                     | mov ebp,esp                                                                                           |
68B83D65 | 83E4 F0                  | and esp,FFFFFFF0                                                                                      |

68B83D68 | 81EC 78010000            | sub esp,178                                                                                           |

68B83D6E | A1 1454D468              | mov eax,dword ptr ds:[<___security_cookie>]                                                           |
68B83D73 | 33C4                     | xor eax,esp                                                                                           |
68B83D75 | 898424 74010000          | mov dword ptr ss:[esp+174],eax                                                                        |

68B83D7C | 56                       | push esi                                                                                              |
68B83D7D | 57                       | push edi                                                                                              |

68B83D7E | 8BF9                     | mov edi,ecx                                       ; CHwSurfaceRenderTarget*                                                    | ; edi = ecx = this

68B83D80 | 897C24 14                | mov dword ptr ss:[esp+14],edi                                                                         |
68B83D84 | 8B87 20020000            | mov eax,dword ptr ds:[edi+220]                                                                        |
68B83D8A | 83C0 04                  | add eax,4                                                                                             |
68B83D8D | 894424 20                | mov dword ptr ss:[esp+20],eax                                                                         |
68B83D91 | 8078 20 00               | cmp byte ptr ds:[eax+20],0                                                                            |
68B83D95 | 74 56                    | je <d2d1.IsNULL_1>                                                                                    |
68B83D97 | 8D70 04                  | lea esi,dword ptr ds:[eax+4]                                                                          |
68B83D9A | 8D7E F0                  | lea edi,dword ptr ds:[esi-10]                                                                         |
68B83D9D | 897424 18                | mov dword ptr ss:[esp+18],esi                                                                         | [esp+18]:CContext::TID3D11DeviceContext_Draw_<1>+46
68B83DA1 | 897C24 0C                | mov dword ptr ss:[esp+C],edi                                                                          |
68B83DA5 | 68 80000000              | push 80                                                                                               |
68B83DAA | 8D4424 7C                | lea eax,dword ptr ss:[esp+7C]                                                                         |
68B83DAE | 6A 00                    | push 0                                                                                                |
68B83DB0 | 50                       | push eax                                                                                              |
68B83DB1 | E8 5D8B0400              | call <d2d1._memset>                                                                                   |
68B83DB6 | 8B76 04                  | mov esi,dword ptr ds:[esi+4]                                                                          |
68B83DB9 | 83C4 0C                  | add esp,C                                                                                             |

68B83DBC | 85F6                     | test esi,esi                                                                                          |
68B83DBE | 0F84 63B20700            | je d2d1.68BFF027                                                                                      |

68B83DC4 | 83C6 F0                  | add esi,FFFFFFF0                                                                                      |
68B83DC7 | 33C9                     | xor ecx,ecx                                                                                           |
68B83DC9 | 894C24 10                | mov dword ptr ss:[esp+10],ecx                                                                         |

68B83DCD | 3BF7                     | cmp esi,edi                                                                                           |
68B83DCF | 0F85 59B20700            | jne d2d1.68BFF02E                                                                                     |

68B83DD5 | 897424 08                | mov dword ptr ss:[esp+8],esi                                                                          |

68B83DD9 | 85C9                     | test ecx,ecx                                                                                          |
68B83DDB | 0F85 8AB20700            | jne d2d1.68BFF06B                                                                                     |

68B83DE1 | 3BF7                     | cmp esi,edi                                                                                           |

68B83DE3 | 8B7424 18                | mov esi,dword ptr ss:[esp+18]                                                                         | [esp+18]:CContext::TID3D11DeviceContext_Draw_<1>+46

68B83DE7 | 75 BC                    | jne d2d1.68B83DA5                                                                                     |

68B83DE9 | 8B7C24 14                | mov edi,dword ptr ss:[esp+14]                                                                         |
68B83DED | 8B8F 28020000            | mov ecx,dword ptr ds:[edi+228]                                                                        |
68B83DF3 | C74424 4C 242F8968       | mov dword ptr ss:[esp+4C],<d2d1.const CSimplePrimitiveTessellator::`vftable'>                         |
68B83DFB | 894C24 50                | mov dword ptr ss:[esp+50],ecx                                                                         |
68B83DFF | 894C24 10                | mov dword ptr ss:[esp+10],ecx                                                                         |
68B83E03 | 8B41 0C                  | mov eax,dword ptr ds:[ecx+C]                                                                          |
68B83E06 | 8DB1 34DE0000            | lea esi,dword ptr ds:[ecx+DE34]                                                                       |
68B83E0C | 894424 54                | mov dword ptr ss:[esp+54],eax                                                                         |
68B83E10 | 8B80 1C020000            | mov eax,dword ptr ds:[eax+21C]                                                                        |
68B83E16 | 05 F0290100              | add eax,129F0                                                                                         |
68B83E1B | C74424 5C 00000000       | mov dword ptr ss:[esp+5C],0                                                                           |

68B83E23 | 83B9 50DE0000 00         | cmp dword ptr ds:[ecx+DE50],0                                                                         |

68B83E2A | 894424 58                | mov dword ptr ss:[esp+58],eax                                                                         |
68B83E2E | C74424 60 00000000       | mov dword ptr ss:[esp+60],0                                                                           |
68B83E36 | C74424 64 00000000       | mov dword ptr ss:[esp+64],0                                                                           |
68B83E3E | C74424 68 00000000       | mov dword ptr ss:[esp+68],0                                                                           |

68B83E46 | 0F87 EA040000            | ja d2d1.68B84336                                                                                      |

68B83E4C | 8B81 54DE0000            | mov eax,dword ptr ds:[ecx+DE54]                                                                       |

68B83E52 | 85C0                     | test eax,eax                                                                                          |
68B83E54 | 0F85 52050000            | jne d2d1.68B843AC                                                                                     |

68B83E5A | 66:0F1F4400 00           | nop word ptr ds:[eax+eax],ax                                                                          |

68B83E60 | 3936                     | cmp dword ptr ds:[esi],esi                                                                            |
68B83E62 | 0F85 3C040000            | jne d2d1.68B842A4                                                                                     |

68B83E68 | 8B7424 10                | mov esi,dword ptr ss:[esp+10]                                                                         |
68B83E6C | 8B8E B81B0100            | mov ecx,dword ptr ds:[esi+11BB8]                                                                      |
68B83E72 | 894C24 20                | mov dword ptr ss:[esp+20],ecx                                                                         |
68B83E76 | 8B01                     | mov eax,dword ptr ds:[ecx]                                                                            |
68B83E78 | 8B40 14                  | mov eax,dword ptr ds:[eax+14]                                                                         |
68B83E7B | 894424 08                | mov dword ptr ss:[esp+8],eax                                                                          |

68B83E7F | 3D E055B968              | cmp eax,<d2d1.public: virtual void __thiscall AtlasBlendPreTessellationDataInstanced::RemoveAll(void) |
68B83E84 | 0F85 1AB20700            | jne d2d1.68BFF0A4                                                                                     |

68B83E8A | E8 51170100              | call <d2d1.public: virtual void __thiscall AtlasBlendPreTessellationDataInstanced::RemoveAll(void)>   |
68B83E8F | 8B4424 68                | mov eax,dword ptr ss:[esp+68]                                                                         |
68B83E93 | C786 50DE0000 00000000   | mov dword ptr ds:[esi+DE50],0                                                                         |
68B83E9D | C786 54DE0000 00000000   | mov dword ptr ds:[esi+DE54],0                                                                         |
68B83EA7 | C786 60E00000 00000000   | mov dword ptr ds:[esi+E060],0                                                                         |

68B83EB1 | 85C0                     | test eax,eax                                                                                          |
68B83EB3 | 0F88 00B20700            | js d2d1.68BFF0B9                                                                                      |

68B83EB9 | 8B87 1C020000            | mov eax,dword ptr ds:[edi+21C]                                                                        | ; flow  here
68B83EBF | 05 34070000              | add eax,734                                                                                           |
68B83EC4 | 6A 0F                    | push F                                                                                                |
68B83EC6 | 6A 00                    | push 0                                                                                                |
68B83EC8 | 8BC8                     | mov ecx,eax                                                                                           |
68B83ECA | 894424 28                | mov dword ptr ss:[esp+28],eax                                                                         | [esp+28]:CContext::TID3D11DeviceContext_Draw_<1>
68B83ECE | E8 86CBFBFF              | call <d2d1.GeometryStageManager::Flush>                                                               |
68B83ED3 | 8BB7 1C020000            | mov esi,dword ptr ds:[edi+21C]                                                                        |
68B83ED9 | 81C6 20080000            | add esi,820                                                                                           |
68B83EDF | 897424 10                | mov dword ptr ss:[esp+10],esi                                                                         |
68B83EE3 | 8B46 74                  | mov eax,dword ptr ds:[esi+74]                                                                         |
68B83EE6 | 85C0                     | test eax,eax                                                                                          |
68B83EE8 | 78 0C                    | js d2d1.68B83EF6                                                                                      |

68B83EEA | 6A 00                    | push 0                                                                                                |
68B83EEC | 8BCE                     | mov ecx,esi                                                                                           |
68B83EEE | E8 71C6FBFF              | call <d2d1.private: long __thiscall InkStageManager::FlushInternalHelper(bool)>                       |
68B83EF3 | 8946 74                  | mov dword ptr ds:[esi+74],eax                                                                         |
68B83EF6 | C746 74 00000000         | mov dword ptr ds:[esi+74],0                                                                           |
68B83EFD | 85C0                     | test eax,eax                                                                                          |
68B83EFF | 0F88 F0B10700            | js d2d1.68BFF0F5                                                                                      |

68B83F05 | 8B87 1C020000            | mov eax,dword ptr ds:[edi+21C]                                                                        |
68B83F0B | 8B88 E80D0000            | mov ecx,dword ptr ds:[eax+DE8]                                                                        |
68B83F11 | 85C9                     | test ecx,ecx                                                                                          |
68B83F13 | 0F85 18B20700            | jne d2d1.68BFF131                                                                                     |

68B83F19 | 8B8F 1C020000            | mov ecx,dword ptr ds:[edi+21C]                                                                        |
68B83F1F | 81C1 F0290100            | add ecx,129F0                                                                                         |
68B83F25 | 894C24 0C                | mov dword ptr ss:[esp+C],ecx                                                                          |
68B83F29 | 8B41 34                  | mov eax,dword ptr ds:[ecx+34]                                                                         |

68B83F2C | 85C0                     | test eax,eax                                                                                          |
68B83F2E | 0F85 C4030000            | jne d2d1.68B842F8                                                                                     |

68B83F34 | 8B49 54                  | mov ecx,dword ptr ds:[ecx+54]                                                                         |
68B83F37 | 894C24 08                | mov dword ptr ss:[esp+8],ecx                                                                          |
68B83F3B | 8B01                     | mov eax,dword ptr ds:[ecx]                                                                            |
68B83F3D | 8B40 04                  | mov eax,dword ptr ds:[eax+4]                                                                          |
68B83F40 | 894424 18                | mov dword ptr ss:[esp+18],eax                                                                         | [esp+18]:CContext::TID3D11DeviceContext_Draw_<1>+46

68B83F44 | 3D F017B568              | cmp eax,<d2d1.public: virtual bool __thiscall CHwD3DVertexBuffer::Locked(void)const >                 |
68B83F49 | 0F85 3AB20700            | jne d2d1.68BFF189                                                                                     |

68B83F4F | E8 9CD8FCFF              | call <d2d1.public: virtual bool __thiscall CHwD3DVertexBuffer::Locked(void)const >                    |

68B83F54 | 84C0                     | test al,al                                                                                            |
68B83F56 | 0F85 6C030000            | jne d2d1.68B842C8                                                                                     |

68B83F5C | 8B87 1C020000            | mov eax,dword ptr ds:[edi+21C]                                                                        |
68B83F62 | 8B88 98080000            | mov ecx,dword ptr ds:[eax+898]                                                                        |
68B83F68 | 85C9                     | test ecx,ecx                                                                                          |
68B83F6A | 0F85 B1030000            | jne d2d1.68B84321                                                                                     |

68B83F70 | 8B87 28020000            | mov eax,dword ptr ds:[edi+228]                                                                        |
68B83F76 | 83B8 E00F0000 00         | cmp dword ptr ds:[eax+FE0],0                                                                          |
68B83F7D | 0F86 C0010000            | jbe d2d1.68B84143                                                                                     |

68B83F83 | 8B4C24 20                | mov ecx,dword ptr ss:[esp+20]                                                                         |
68B83F87 | 83C1 04                  | add ecx,4                                                                                             |
68B83F8A | E8 60BF0200              | call <d2d1.public: float __thiscall RectangularHeap<unsigned int>::GetFillRatio(void)const >          |
68B83F8F | 8B8F 28020000            | mov ecx,dword ptr ds:[edi+228]                                                                        |
68B83F95 | F3:0F114424 08           | movss dword ptr ss:[esp+8],xmm0                                                                       |
68B83F9B | F3:0F1005 7CD28B68       | movss xmm0,dword ptr ds:[<__real@bf800000>]                                                           |
68B83FA3 | F3:0F114424 2C           | movss dword ptr ss:[esp+2C],xmm0                                                                      |

68B83FA9 | 80B9 4CDE0000 00         | cmp byte ptr ds:[ecx+DE4C],0                                                                          |
68B83FB0 | 0F85 93030000            | jne d2d1.68B84349                                                                                     |

68B83FB6 | F3:0F114424 18           | movss dword ptr ss:[esp+18],xmm0                                                                      | [esp+18]:CContext::TID3D11DeviceContext_Draw_<1>+46

68B83FBC | 80B9 4CDE0000 00         | cmp byte ptr ds:[ecx+DE4C],0                                                                         |
68B83FC3 | 0F85 A5030000            | jne d2d1.68B8436E                                                                                     |

68B83FC9 | F3:0F114424 0C           | movss dword ptr ss:[esp+C],xmm0                                                                       |

68B83FCF | 80B9 4CDE0000 00         | cmp byte ptr ds:[ecx+DE4C],0                                                                          |
68B83FD6 | 0F85 B7030000            | jne d2d1.68B84393                                                                                     |

68B83FDC | F3:0F114424 2C           | movss dword ptr ss:[esp+2C],xmm0                                                                      |
68B83FE2 | 8B87 1C020000            | mov eax,dword ptr ds:[edi+21C]                                                                        |
68B83FE8 | 8B90 002A0100            | mov edx,dword ptr ds:[eax+12A00]                                                                      |
68B83FEE | 2B90 FC290100            | sub edx,dword ptr ds:[eax+129FC]                                                                      |
68B83FF4 | 8BB8 442A0100            | mov edi,dword ptr ds:[eax+12A44]                                                                      |
68B83FFA | 66:0F6EC2                | movd xmm0,edx                                                                                         |
68B83FFE | 8B07                     | mov eax,dword ptr ds:[edi]                                                                            |
68B84000 | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                                                                    |
68B84004 | C1EA 1F                  | shr edx,1F                                                                                            |
68B84007 | 8B70 0C                  | mov esi,dword ptr ds:[eax+C]                                                                          |
68B8400A | 8BCE                     | mov ecx,esi                                                                                           |
68B8400C | F2:0F5804D5 C0B2AB68     | addsd xmm0,qword ptr ds:[edx*8+<__xmm@41f00000000000000000000000000000>]                              | edx*8+68ABB2C0:CMultistepScaler::MapOutputRectToInputRects+100
68B84015 | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                                                                    |
68B84019 | F3:0F114424 1C           | movss dword ptr ss:[esp+1C],xmm0                                                                      |
68B8401F | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                       |
68B84025 | 8BCF                     | mov ecx,edi                                                                                           |
68B84027 | FFD6                     | call esi                                                                                              |
68B84029 | 8B7C24 14                | mov edi,dword ptr ss:[esp+14]                                                                         |
68B8402D | F3:0F106424 1C           | movss xmm4,dword ptr ss:[esp+1C]                                                                      |
68B84033 | 66:0F6EC0                | movd xmm0,eax                                                                                         |
68B84037 | 8B8F 28020000            | mov ecx,dword ptr ds:[edi+228]                                                                        |
68B8403D | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                                                                    |
68B84041 | C1E8 1F                  | shr eax,1F                                                                                            |
68B84044 | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f00000000000000000000000000000>]                              | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B8404D | 8B81 E00F0000            | mov eax,dword ptr ds:[ecx+FE0]                                                                        |
68B84053 | 66:0F5AC0                | cvtpd2ps xmm0,xmm0                                                                                    |
68B84057 | F3:0F5EE0                | divss xmm4,xmm0                                                                                       |
68B8405B | 66:0F6EC0                | movd xmm0,eax                                                                                         |
68B8405F | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                                                                    |
68B84063 | C1E8 1F                  | shr eax,1F                                                                                            |
68B84066 | F3:0F116424 1C           | movss dword ptr ss:[esp+1C],xmm4                                                                      |
68B8406C | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f00000000000000000000000000000>]                              | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B84075 | 8B81 B40F0000            | mov eax,dword ptr ds:[ecx+FB4]                                                                        |
68B8407B | 0381 B00F0000            | add eax,dword ptr ds:[ecx+FB0]                                                                        |
68B84081 | 66:0F5AC8                | cvtpd2ps xmm1,xmm0                                                                                    |
68B84085 | 66:0F6EC0                | movd xmm0,eax                                                                                         |
68B84089 | F3:0F5E0D C0C18B68       | divss xmm1,dword ptr ds:[<__real@43480000>]                                                           |
68B84091 | C1E8 1F                  | shr eax,1F                                                                                            |
68B84094 | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                                                                    |
68B84098 | F3:0F114C24 24           | movss dword ptr ss:[esp+24],xmm1                                                                      |
68B8409E | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f00000000000000000000000000000>]                              | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B840A7 | 8B81 58E00000            | mov eax,dword ptr ds:[ecx+E058]                                                                       |
68B840AD | 66:0F5AD0                | cvtpd2ps xmm2,xmm0                                                                                    |
68B840B1 | 66:0F6EC0                | movd xmm0,eax                                                                                         |
68B840B5 | F3:0F5E15 50D08B68       | divss xmm2,dword ptr ds:[<__real@437a0000>]                                                           |
68B840BD | C1E8 1F                  | shr eax,1F                                                                                            |
68B840C0 | F605 8070D468 04         | test byte ptr ds:[<_Microsoft_Windows_D2D1EnableBits>],4                                              |
68B840C7 | F3:0FE6C0                | cvtdq2pd xmm0,xmm0                                                                                    |
68B840CB | F3:0F115424 28           | movss dword ptr ss:[esp+28],xmm2                                                                      | [esp+28]:CContext::TID3D11DeviceContext_Draw_<1>
68B840D1 | F2:0F5804C5 C0B2AB68     | addsd xmm0,qword ptr ds:[eax*8+<__xmm@41f00000000000000000000000000000>]                              | eax*8+68ABB2C0:public: long __thiscall CScale::SetSharpness(float)+7
68B840DA | 66:0F5AD8                | cvtpd2ps xmm3,xmm0                                                                                    |
68B840DE | F3:0F591D C4C18B68       | mulss xmm3,dword ptr ds:[<__real@3c000000>]                                                           |
68B840E6 | F3:0F115C24 14           | movss dword ptr ss:[esp+14],xmm3                                                                      |
68B840EC | 0F85 CEB00700            | jne d2d1.68BFF1C0                                                                                     |

68B840F2 | 83BF F0000000 00         | cmp dword ptr ds:[edi+F0],0                                                                           |
68B840F9 | 7C 37                    | jl d2d1.68B84132                                                                                      |

68B840FB | 8A87 60040000            | mov al,byte ptr ds:[edi+460]                                                                          |

68B84101 | 8B8F 1C020000            | mov ecx,dword ptr ds:[edi+21C]      ; CHwSurfaceRenderTarget->off_21ch                                                                  | ; 0 ecx !!!
68B84107 | 24 01                    | and al,1                                                                                              |
68B84109 | 0FB6C0                   | movzx eax,al                                                                                          |
68B8410C | 50                       | push eax                                                                                              |
68B8410D | E8 8E7FFFFF              | call <d2d1.CD3DDeviceLevel1::ProcessDeferredOperations>                                               |

6. d2d1.protected: long __thiscall StageManagerBase::AllocateHeapRect(class CHwSurfaceRenderTarget *,class CD3DDeviceLevel1 *,struct ID3D11RenderTargetView *,struct tagRECT const &,unsigned int,struct D2D_RECT_U *,struct HeapAllocationState *,bool *)+B2


68C5F377 | 66:90                    | nop                                                                                                   |
68C5F379 | 55                       | push ebp                                                                                              |
68C5F37A | 8BEC                     | mov ebp,esp                                                                                           |
68C5F37C | 83EC 64                  | sub esp,64                                                                                            | jijiwjd
68C5F37F | A1 1454D468              | mov eax,dword ptr ds:[<___security_cookie>]                                                           |
68C5F384 | 33C5                     | xor eax,ebp                                                                                           |
68C5F386 | 8945 FC                  | mov dword ptr ss:[ebp-4],eax                                                                          |

68C5F389 | 8B45 08                  | mov eax,dword ptr ss:[ebp+8]     ;0                                                                     | eax = arg1  -- ! arg1 !

68C5F38C | 8B55 14                  | mov edx,dword ptr ss:[ebp+14]                                                                         | ;argument5 -> EDX

68C5F38F | 8945 DC                  | mov dword ptr ss:[ebp-24],eax    ;1                                                                     | ; arg1 -> zmienna lokalna

68C5F392 | 8B45 0C                  | mov eax,dword ptr ss:[ebp+C]                                                                          | ;eax = arg2
68C5F395 | 8945 C4                  | mov dword ptr ss:[ebp-3C],eax                                                                         |
68C5F398 | 8B45 10                  | mov eax,dword ptr ss:[ebp+10]                                                                         | ;eax = arg3
68C5F39B | 8945 C0                  | mov dword ptr ss:[ebp-40],eax                                                                         |
68C5F39E | 8B45 1C                  | mov eax,dword ptr ss:[ebp+1C]                                                                         | ;eax = arg4
68C5F3A1 | 8945 BC                  | mov dword ptr ss:[ebp-44],eax                                                                         |
68C5F3A4 | 8B45 20                  | mov eax,dword ptr ss:[ebp+20]                                                                         | ; eax = arg5
68C5F3A7 | 8945 B8                  | mov dword ptr ss:[ebp-48],eax                                                                         |

68C5F3AA | 8B45 24                  | mov eax,dword ptr ss:[ebp+24]                                                                         | ; eax = arg6

68C5F3AD | 53                       | push ebx                                                                                              |

68C5F3AE | 8BD9                     | mov ebx,ecx                                                                                           | ;ebx = ecx  = thiis

68C5F3B0 | 8945 D8                  | mov dword ptr ss:[ebp-28],eax                                                                         |
68C5F3B3 | 8B4A 08                  | mov ecx,dword ptr ds:[edx+8]                                                                          |
68C5F3B6 | 8BC1                     | mov eax,ecx                                                                                           |
68C5F3B8 | 2B02                     | sub eax,dword ptr ds:[edx]                                                                            |
68C5F3BA | 56                       | push esi                                                                                              |
68C5F3BB | 33F6                     | xor esi,esi                                                                                           |
68C5F3BD | 895D E0                  | mov dword ptr ss:[ebp-20],ebx                                                                         |
68C5F3C0 | 3B0A                     | cmp ecx,dword ptr ds:[edx]                                                                            |
68C5F3C2 | 8B4A 0C                  | mov ecx,dword ptr ds:[edx+C]                                                                          |
68C5F3C5 | 0F4DF0                   | cmovge esi,eax                                                                                        |
68C5F3C8 | 8BC1                     | mov eax,ecx                                                                                           |
68C5F3CA | 2B42 04                  | sub eax,dword ptr ds:[edx+4]                                                                          |
68C5F3CD | 8975 D0                  | mov dword ptr ss:[ebp-30],esi                                                                         | [ebp-30]:CContext::TID3D11DeviceContext_SetShaderResources_<1,4>+D4
68C5F3D0 | 33F6                     | xor esi,esi                                                                                           |
68C5F3D2 | 3B4A 04                  | cmp ecx,dword ptr ds:[edx+4]                                                                          |
68C5F3D5 | 57                       | push edi                                                                                              |
68C5F3D6 | 0F4DF0                   | cmovge esi,eax                                                                                        |
68C5F3D9 | 32C9                     | xor cl,cl                                                                                             |
68C5F3DB | 884D E7                  | mov byte ptr ss:[ebp-19],cl                                                                           |
68C5F3DE | 8D43 0C                  | lea eax,dword ptr ds:[ebx+C]                                                                          |
68C5F3E1 | 8D4B 04                  | lea ecx,dword ptr ds:[ebx+4]                                                                          |
68C5F3E4 | 8975 D4                  | mov dword ptr ss:[ebp-2C],esi                                                                         |

68C5F3E7 | 8B5D DC                  | mov ebx,dword ptr ss:[ebp-24]     ;2                                                                    |

68C5F3EA | 8945 CC                  | mov dword ptr ss:[ebp-34],eax                                                                         |
68C5F3ED | 894D C8                  | mov dword ptr ss:[ebp-38],ecx                                                                         |
68C5F3F0 | FF75 D4                  | push dword ptr ss:[ebp-2C]                                                                            |
68C5F3F3 | 8BF0                     | mov esi,eax                                                                                           |
68C5F3F5 | 8D7D 9C                  | lea edi,dword ptr ss:[ebp-64]                                                                         |
68C5F3F8 | FF75 D0                  | push dword ptr ss:[ebp-30]                                                                            | [ebp-30]:CContext::TID3D11DeviceContext_SetShaderResources_<1,4>+D4
68C5F3FB | 8D45 A8                  | lea eax,dword ptr ss:[ebp-58]                                                                         |
68C5F3FE | 50                       | push eax                                                                                              |
68C5F3FF | A5                       | movsd                                                                                                 |
68C5F400 | A5                       | movsd                                                                                                 |
68C5F401 | A5                       | movsd                                                                                                 |
68C5F402 | E8 24010000              | call <d2d1.public: bool __thiscall RectangularHeap<unsigned int>::AllocateRect(struct D2D_SIZE_U,stru | ; nie alokuje pamieci dynamicznej
68C5F407 | 84C0                     | test al,al                                                                                            |
68C5F409 | 75 2A                    | jne d2d1.68C5F435                                                                                     |

68C5F40B | 8B03                     | mov eax,dword ptr ds:[ebx]                                                                            |
68C5F40D | 51                       | push ecx                                                                                              |
68C5F40E | C70424 000080BF          | mov dword ptr ss:[esp],BF800000                                                                       |
68C5F415 | 6A 10                    | push 10                                                                                               |
68C5F417 | 8BB0 14010000            | mov esi,dword ptr ds:[eax+114]                                                                        |

68C5F41D | 8BCE                     | mov ecx,esi                                                                                           |
68C5F41F | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                       |

68C5F425 | 8BCB                     | mov ecx,ebx              ;  ;3 - ecx = ebx                                                                             |
68C5F427 | FFD6                     | call esi                 ;  call d2d1.CHwSurfaceRenderTarget::FlushQueuedOperations     ; !!!!!!!!!!!!! ;                                                                 |

68C5F429 | 8B45 CC                  | mov eax,dword ptr ss:[ebp-34]                                                                         |
68C5F42C | 8B4D C8                  | mov ecx,dword ptr ss:[ebp-38]                                                                         |
68C5F42F | C645 E7 01               | mov byte ptr ss:[ebp-19],1                                                                            |
68C5F433 | EB BB                    | jmp d2d1.68C5F3F0                                                                                     |
68C5F435 | 8B5D E0                  | mov ebx,dword ptr ss:[ebp-20]                                                                         |
68C5F438 | 807B 40 00               | cmp byte ptr ds:[ebx+40],0                                                                            |
68C5F43C | 74 7D                    | je d2d1.68C5F4BB                                                                                      |
68C5F43E | 8B45 18                  | mov eax,dword ptr ss:[ebp+18]                                                                         |
68C5F441 | 8D75 A8                  | lea esi,dword ptr ss:[ebp-58]                                                                         |
68C5F444 | 8D7D E8                  | lea edi,dword ptr ss:[ebp-18]                                                                         |
68C5F447 | A5                       | movsd                                                                                                 |
68C5F448 | A5                       | movsd                                                                                                 |
68C5F449 | A5                       | movsd                                                                                                 |
68C5F44A | A5                       | movsd                                                                                                 |
68C5F44B | 8945 F8                  | mov dword ptr ss:[ebp-8],eax                                                                          |
68C5F44E | 8B43 34                  | mov eax,dword ptr ds:[ebx+34]                                                                         |
68C5F451 | 8D48 01                  | lea ecx,dword ptr ds:[eax+1]                                                                          |
68C5F454 | 3B43 38                  | cmp eax,dword ptr ds:[ebx+38]                                                                         |
68C5F457 | 75 38                    | jne d2d1.68C5F491                                                                                     |
68C5F459 | 8D45 E8                  | lea eax,dword ptr ss:[ebp-18]                                                                         | ;eax = &local_18h
68C5F45C | 8BD1                     | mov edx,ecx                                                                                           |
68C5F45E | 8945 DC                  | mov dword ptr ss:[ebp-24],eax                                                                         | ; local_24 = &local_18h
68C5F461 | 8D4B 30                  | lea ecx,dword ptr ds:[ebx+30]                                                                         |
68C5F464 | 8D45 DC                  | lea eax,dword ptr ss:[ebp-24]                                                                         | ; out
68C5F467 | 50                       | push eax                                                                                              |
68C5F468 | E8 8F8D0200              | call <d2d1.protected: long __stdcall CArray<class CD3DRealizationVertex,class CPodTraits<class CD3DRe | ; to alokuje pamięć (maksymalny rozmiar 4294967280‬ : MAX_UINT - 15)
68C5F46D | 8BF0                     | mov esi,eax                                                                                           | ; if (HEAP_PTR_OR_SIZE < 0 )
68C5F46F | 85F6                     | test esi,esi                                                                                          |
68C5F471 | 78 38                    | js <d2d1.__skip_mem_copy>                                                                             |
68C5F473 | 8B43 34                  | mov eax,dword ptr ds:[ebx+34]                                                                         | ; EAX = this->OFF_34
68C5F476 | 8B75 DC                  | mov esi,dword ptr ss:[ebp-24]                                                                         | ; ESI = PTR_BUFF
68C5F479 | 40                       | inc eax                                                                                               |
68C5F47A | 8943 34                  | mov dword ptr ds:[ebx+34],eax                                                                         | ++this->OFF_34
68C5F47D | 48                       | dec eax                                                                                               |
68C5F47E | 6BF8 14                  | imul edi,eax,14                                                                                       | edi = (this->OFF_34 - 1) * 0x14
68C5F481 | 6A 05                    | push 5                                                                                                |
68C5F483 | 59                       | pop ecx                                                                                               | ; ecx = counter = 5
68C5F484 | 037B 30                  | add edi,dword ptr ds:[ebx+30]                                                                         |
68C5F487 | F3:A5                    | rep movsd                                                                                             | ; 5 * dword
68C5F489 | 33F6                     | xor esi,esi                                                                                           |
68C5F48B | 85F6                     | test esi,esi                                                                                          | ; if ( 0 >= 0 )
68C5F48D | 79 16                    | jns <d2d1.TR_CONDITION>                                                                               |
68C5F48F | EB 16                    | jmp d2d1.68C5F4A7                                                                                     |
68C5F491 | 8D41 FF                  | lea eax,dword ptr ds:[ecx-1]                                                                          |
68C5F494 | 894B 34                  | mov dword ptr ds:[ebx+34],ecx                                                                         |
68C5F497 | 6BF8 14                  | imul edi,eax,14                                                                                       |
68C5F49A | 8D75 E8                  | lea esi,dword ptr ss:[ebp-18]                                                                         |
68C5F49D | 6A 05                    | push 5                                                                                                |
68C5F49F | 59                       | pop ecx                                                                                               |
68C5F4A0 | 037B 30                  | add edi,dword ptr ds:[ebx+30]                                                                         |
68C5F4A3 | F3:A5                    | rep movsd                                                                                             |
68C5F4A5 | 33F6                     | xor esi,esi                                                                                           |
68C5F4A7 | 85F6                     | test esi,esi                                                                                          |
68C5F4A9 | 79 0B                    | jns d2d1.68C5F4B6                                                                                     |
68C5F4AB | 8BCE                     | mov ecx,esi                                                                                           |
68C5F4AD | E8 D672E9FF              | call <d2d1.void __stdcall DoStackCapture(long)>                                                       |
68C5F4B2 | 8BC6                     | mov eax,esi                                                                                           |
68C5F4B4 | EB 62                    | jmp d2d1.68C5F518                                                                                     |
68C5F4B6 | 8B43 34                  | mov eax,dword ptr ds:[ebx+34]                                                                         |
68C5F4B9 | EB 03                    | jmp d2d1.68C5F4BE                                                                                     |
68C5F4BB | 8B45 D8                  | mov eax,dword ptr ss:[ebp-28]                                                                         |
68C5F4BE | 807B 41 00               | cmp byte ptr ds:[ebx+41],0                                                                            |
68C5F4C2 | 8945 E0                  | mov dword ptr ss:[ebp-20],eax                                                                         |
68C5F4C5 | 74 28                    | je d2d1.68C5F4EF                                                                                      |
68C5F4C7 | 8B45 C4                  | mov eax,dword ptr ss:[ebp-3C]                                                                         |
68C5F4CA | 68 A4CCA668              | push <d2d1.sub_68A6CCA4>                                                                              |
68C5F4CF | FF75 C0                  | push dword ptr ss:[ebp-40]                                                                            |
68C5F4D2 | 8B80 F80D0000            | mov eax,dword ptr ds:[eax+DF8]                                                                        |
68C5F4D8 | 50                       | push eax                                                                                              |
68C5F4D9 | 8B08                     | mov ecx,dword ptr ds:[eax]                                                                            |
68C5F4DB | 8BB1 C8000000            | mov esi,dword ptr ds:[ecx+C8]                                                                         |
68C5F4E1 | 8BCE                     | mov ecx,esi                                                                                           |
68C5F4E3 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                       |
68C5F4E9 | FFD6                     | call esi                                                                                              |
68C5F4EB | C643 41 00               | mov byte ptr ds:[ebx+41],0                                                                            |
68C5F4EF | 8B7D BC                  | mov edi,dword ptr ss:[ebp-44]                                                                         |
68C5F4F2 | 8D75 A8                  | lea esi,dword ptr ss:[ebp-58]                                                                         |
68C5F4F5 | 8B4D B8                  | mov ecx,dword ptr ss:[ebp-48]                                                                         |
68C5F4F8 | 8B45 E0                  | mov eax,dword ptr ss:[ebp-20]                                                                         |
68C5F4FB | A5                       | movsd                                                                                                 |
68C5F4FC | A5                       | movsd                                                                                                 |
68C5F4FD | A5                       | movsd                                                                                                 |
68C5F4FE | A5                       | movsd                                                                                                 |
68C5F4FF | 8BF9                     | mov edi,ecx                                                                                           |
68C5F501 | 8941 0C                  | mov dword ptr ds:[ecx+C],eax                                                                          |
68C5F504 | 8B45 D8                  | mov eax,dword ptr ss:[ebp-28]                                                                         |
68C5F507 | 8D75 9C                  | lea esi,dword ptr ss:[ebp-64]                                                                         |
68C5F50A | A5                       | movsd                                                                                                 |
68C5F50B | A5                       | movsd                                                                                                 |
68C5F50C | A5                       | movsd                                                                                                 |
68C5F50D | 85C0                     | test eax,eax                                                                                          |
68C5F50F | 74 05                    | je d2d1.68C5F516                                                                                      |
68C5F511 | 8A4D E7                  | mov cl,byte ptr ss:[ebp-19]                                                                           |
68C5F514 | 8808                     | mov byte ptr ds:[eax],cl                                                                              |
68C5F516 | 33C0                     | xor eax,eax                                                                                           |
68C5F518 | 8B4D FC                  | mov ecx,dword ptr ss:[ebp-4]                                                                          |
68C5F51B | 5F                       | pop edi                                                                                               |
68C5F51C | 5E                       | pop esi                                                                                               |
68C5F51D | 33CD                     | xor ecx,ebp                                                                                           |
68C5F51F | 5B                       | pop ebx                                                                                               |
68C5F520 | E8 EB25F6FF              | call <d2d1.@__security_check_cookie@4>                                                                |
68C5F525 | 8BE5                     | mov esp,ebp                                                                                           |
68C5F527 | 5D                       | pop ebp                                                                                               |
68C5F528 | C2 2000                  | ret 20                                                                                                | ;8 argumentow

7. d2d1.public: long __thiscall GeometryStageManager::BeginDraw(class CHwSurfaceRenderTarget *,struct ITransformableGeometryGenerator *,enum TirRenderMode::Enum,struct tagRECT const *,struct D2D_RECT_F const *,struct D2D_POINT_2F *,bool *)


68C56F8A | 66:90                    | nop                                                                              |
68C56F8C | 55                       | push ebp                                                                         | ; shader / vertex
68C56F8D | 8BEC                     | mov ebp,esp                                                                      |
68C56F8F | 81EC A0000000            | sub esp,A0                                                                       | ;
68C56F95 | A1 1454D468              | mov eax,dword ptr ds:[<___security_cookie>]                                      |
68C56F9A | 33C5                     | xor eax,ebp                                                                      |
68C56F9C | 8945 F8                  | mov dword ptr ss:[ebp-8],eax                                                     |

68C56F9F | 8B45 08                  | mov eax,dword ptr ss:[ebp+8]         ;0 - arg1                                   | ddd

68C56FA2 | 53                       | push ebx                                                                         | eax = arg1

68C56FA3 | 8945 A4                  | mov dword ptr ss:[ebp-5C],eax       ; 1                                            |  local_off5c = arg1

68C56FA6 | 8BD9                     | mov ebx,ecx                                                                      | ; ebx = ecx = this
68C56FA8 | 8B45 14                  | mov eax,dword ptr ss:[ebp+14]                                                    | eax = arg5

68C56FAB | 56                       | push esi                                                                         | ; 

68C56FAC | 8B75 10                  | mov esi,dword ptr ss:[ebp+10]                                                    | ; esi = arg4
68C56FAF | 8945 9C                  | mov dword ptr ss:[ebp-64],eax                                                    | ; local_off64 = arg5
68C56FB2 | 8B45 1C                  | mov eax,dword ptr ss:[ebp+1C]                                                    | ; eax = arg7
68C56FB5 | 57                       | push edi                                                                         |
68C56FB6 | 8B7D 0C                  | mov edi,dword ptr ss:[ebp+C]                                                     | edi = arg3
68C56FB9 | 8945 88                  | mov dword ptr ss:[ebp-78],eax                                                    |  local_78 = arg7
68C56FBC | 8B45 20                  | mov eax,dword ptr ss:[ebp+20]                                                    | ; eax = arg8
68C56FBF | 895D A8                  | mov dword ptr ss:[ebp-58],ebx                                                    | ;args via regs
68C56FC2 | 897D A0                  | mov dword ptr ss:[ebp-60],edi                                                    |
68C56FC5 | 8945 84                  | mov dword ptr ss:[ebp-7C],eax                                                    | local_7c = arg8

68C56FC8 | 3BB3 E8000000            | cmp esi,dword ptr ds:[ebx+E8]                                                    | ; if (arg4 == this->off_e8) 
68C56FCE | 74 09                    | je <d2d1.Skip_GemoetryStageMAnager_Flush>                                        |

68C56FD0 | 6A 0F                    | push F                                                                           |
68C56FD2 | 6A 00                    | push 0                                                                           |
68C56FD4 | E8 809AEEFF              | call <d2d1.GeometryStageManager::Flush>                                          |
68C56FD9 | 8B8B C4000000            | mov ecx,dword ptr ds:[ebx+C4]                                                    | ;ECX = THIS = THIS->offc4 = 0xffc4 = this->SimplefieldCOnstantBufferTable
68C56FDF | 89B3 E8000000            | mov dword ptr ds:[ebx+E8],esi                                                    | ; this->off_e8 = arg4
68C56FE5 | E8 FB880000              | call <d2d1.public: bool __thiscall SimplifiedConstantBufferTable::CanAccommodate |
68C56FEA | 84C0                     | test al,al                                                                       | if ( BOOL(EAX) != 0 ) omin flusza
68C56FEC | 75 0B                    | jne <d2d1.skip_GeometryStageManager_Flush>                                       |

68C56FEE | 6A 0F                    | push F                                                                           |
68C56FF0 | 6A 00                    | push 0                                                                           |
68C56FF2 | 8BCB                     | mov ecx,ebx                                                                      |
68C56FF4 | E8 609AEEFF              | call <d2d1.GeometryStageManager::Flush>                                          |
68C56FF9 | 51                       | push ecx                                                                         | ; ecx = this = Simplefile....
68C56FFA | 56                       | push esi                                                                         | ; esi = arg4
68C56FFB | 8BCB                     | mov ecx,ebx                                                                      | ; ecx = ebx  = this
68C56FFD | E8 D00D0000              | call <d2d1.private: long __thiscall GeometryStageManager::EnsureShaders(enum Tir |
68C57002 | 8BF0                     | mov esi,eax                                                                      |
68C57004 | 85F6                     | test esi,esi                                                                     | ; if (DWORD(RET) > 0) 
68C57006 | 79 12                    | jns <d2d1.skipDoStackCapture>                                                    | If ( EnsureShaders( ... )  > 0 ) kontynuj petle ; 

68C57008 | 8BCE                     | mov ecx,esi                                                                      | 
68C5700A | E8 79F7E9FF              | call <d2d1.void __stdcall DoStackCapture(long)>                                  |
68C5700F | 85F6                     | test esi,esi                                                                     | ; warunek petli ktora wywoaluje AllocateHeapRect jest zalezny od wartosci zwracanej przez EnsureShaders
68C57011 | 79 07                    | jns <d2d1.skipDoStackCapture>                                                    | ; jesli wartosc > 0 wejdz do petli i wywowlu AllocateRect, jesli nie wyjdz 

68C57013 | 8BC6                     | mov eax,esi                                                                      | ; ustaw wartosc zwracana przez metode i wyjsc
68C57015 | E9 02040000              | jmp <d2d1.return_>                                                               |

68C5701A | 8B07                     | mov eax,dword ptr ds:[edi]                                                       | ; eax = *arg3
68C5701C | 8B70 08                  | mov esi,dword ptr ds:[eax+8]                                                     | ; esi = *arg3->off_8 = vtable (2 funckja od początku tablicy)
68C5701F | 8BCE                     | mov ecx,esi                                                                      |
68C57021 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                  | ; controll flow guard
68C57027 | 8BCF                     | mov ecx,edi                                                                      |
68C57029 | FFD6                     | call esi                                                                         |

68C5702B | 8B7D A4                  | mov edi,dword ptr ss:[ebp-5C]             ;2                                       | ; edi = local_5c

68C5702E | 8D55 B3                  | lea edx,dword ptr ss:[ebp-4D]                                                    | ; edx = &local_4d
68C57031 | 52                       | push edx                                                                         |
68C57032 | 0FB6C8                   | movzx ecx,al                                                                     |
68C57035 | 8D95 64FFFFFF            | lea edx,dword ptr ss:[ebp-9C]                                                    |
68C5703B | 8B83 94000000            | mov eax,dword ptr ds:[ebx+94]                                                    |

68C57041 | F7D9                     | neg ecx                                                                          |
68C57043 | 52                       | push edx                                                                         | ; *bool
68C57044 | 1BC9                     | sbb ecx,ecx                                                                      |
68C57046 | 8D55 B4                  | lea edx,dword ptr ss:[ebp-4C]                                                    |
68C57049 | 52                       | push edx                                                                         | ; struct* HeapAllocationState
68C5704A | 81E1 FFFF0000            | and ecx,FFFF                                                                     |
68C57050 | 51                       | push ecx                                                                         | ;3
68C57051 | FF75 9C                  | push dword ptr ss:[ebp-64]                                                       | ;4
68C57054 | 8BCB                     | mov ecx,ebx                                                                      |
68C57056 | FFB0 A4000000            | push dword ptr ds:[eax+A4]                                                       | ;5
68C5705C | FF73 44                  | push dword ptr ds:[ebx+44]                                                       | 6
68C5705F | 57                       | push edi                           ;3 - arg1                                     | ;7 - maxymalny rozmiar alokacji dla shadera wynosi 4294967280‬
68C57060 | E8 12830000              | call <d2d1.protected: long __thiscall StageManagerBase::AllocateHeapRect(class C |
...

8. d2d1.protected: long __thiscall CHwSurfaceRenderTarget::FillTessellation_TIR(struct ITransformableGeometryGenerator *,struct D2D_RECT_F const *,struct tagRECT const *,struct D2D_SIZE_U,class FillTessellationData const *)+170

/* tu juz mozemy zrobic !heap -p -a ecx i zobaczyc gdzie byl alokowany nasz this */
/* poczym ustawic bp na dostępie do pamięci w trybie r/w pod odpowiednimi offsetami */
/* 
** CHwSurfaceRenderTarget->off_21ch->off_df8h->off_6b00 - to nas interesuje
*/

68C4DDFE | 66:90                    | nop                                                                                                                                                |
68C4DE00 | 55                       | push ebp                                                                                                                                           |
68C4DE01 | 8BEC                     | mov ebp,esp                                                                                                                                        |
68C4DE03 | 83EC 74                  | sub esp,74                                                                                                                                         |
68C4DE06 | A1 1454D468              | mov eax,dword ptr ds:[<___security_cookie>]                                                                                                        |
68C4DE0B | 33C5                     | xor eax,ebp     
                                                                                                                                   |
68C4DE0D | 8945 FC                  | mov dword ptr ss:[ebp-4],eax                                                                                                                       |
68C4DE10 | 8B55 10                  | mov edx,dword ptr ss:[ebp+10]    
                                                                                                                  |
68C4DE13 | 8BC1                     | mov eax,ecx       ;eax = ecx = this; //CHwSurfaceRenderTarget*
                                                                                                                                   |
68C4DE15 | 8B4D 14                  | mov ecx,dword ptr ss:[ebp+14]                                                                                                                      | [ebp+14]:CContext::TID3D11DeviceContext_Draw_<1>
68C4DE18 | 53                       | push ebx                                                                                                                                           |
68C4DE19 | 8B5D 08                  | mov ebx,dword ptr ss:[ebp+8]                                                                                                                       |
68C4DE1C | 56                       | push esi                                                                                                                                           |
68C4DE1D | 57                       | push edi                                                                                                                                           |
68C4DE1E | 8B78 20                  | mov edi,dword ptr ds:[eax+20]    
                                                                                                                  |
68C4DE21 | 8945 DC                  | mov dword ptr ss:[ebp-24],eax        ;0
                                                                                                              |
68C4DE24 | 894D A4                  | mov dword ptr ss:[ebp-5C],ecx                                                                                                                      |
68C4DE27 | 8955 D4                  | mov dword ptr ss:[ebp-2C],edx                                                                                                                      |
68C4DE2A | 8B07                     | mov eax,dword ptr ds:[edi]                                                                                                                         |
68C4DE2C | 895D AC                  | mov dword ptr ss:[ebp-54],ebx                                                                                                                      |
68C4DE2F | 8B70 4C                  | mov esi,dword ptr ds:[eax+4C]                                                                                                                      |
68C4DE32 | 8BCE                     | mov ecx,esi                                                                                                                                        |
68C4DE34 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                                                                    |
68C4DE3A | 8BCF                     | mov ecx,edi                                                                                                                                        |
68C4DE3C | FFD6                     | call esi                                                                                                                                           |
68C4DE3E | 8B0B                     | mov ecx,dword ptr ds:[ebx]                                                                                                                         |
68C4DE40 | 8BF8                     | mov edi,eax                                                                                                                                        |
68C4DE42 | 8B71 0C                  | mov esi,dword ptr ds:[ecx+C]                                                                                                                       |
68C4DE45 | 8BCE                     | mov ecx,esi                                                                                                                                        |
68C4DE47 | FF15 4083D468            | call dword ptr ds:[<___guard_check_icall_fptr>]                                                                                                    |
68C4DE4D | 8BCB                     | mov ecx,ebx                                                                                                                                        |
68C4DE4F | FFD6                     | call esi                                                                                                                                           |
68C4DE51 | 6A 00                    | push 0                                                                                                                                             |
68C4DE53 | 5B                       | pop ebx                                                                                                                                            |
68C4DE54 | 85C0                     | test eax,eax                                                                                                                                       |
68C4DE56 | 75 09                    | jne d2d1.68C4DE61                                                                                                                                  |
68C4DE58 | 8347 20 01               | add dword ptr ds:[edi+20],1                                                                                                                        |
68C4DE5C | 115F 24                  | adc dword ptr ds:[edi+24],ebx                                                                                                                      |
68C4DE5F | EB 05                    | jmp d2d1.68C4DE66                                                                                                                                  |
68C4DE61 | 83F8 01                  | cmp eax,1                                                                                                                                          |
68C4DE64 | 75 08                    | jne d2d1.68C4DE6E                                                                                                                                  |
68C4DE66 | 8307 01                  | add dword ptr ds:[edi],1                                                                                                                           |
68C4DE69 | 115F 04                  | adc dword ptr ds:[edi+4],ebx                                                                                                                       |
68C4DE6C | EB 07                    | jmp d2d1.68C4DE75                                                                                                                                  |
68C4DE6E | 8347 08 01               | add dword ptr ds:[edi+8],1                                                                                                                         |
68C4DE72 | 115F 0C                  | adc dword ptr ds:[edi+C],ebx                                                                                                                       |
68C4DE75 | 8B45 DC                  | mov eax,dword ptr ss:[ebp-24]                                                                                                                      |
68C4DE78 | 51                       | push ecx                                                                                                                                           |
68C4DE79 | 8B80 1C020000            | mov eax,dword ptr ds:[eax+21C]                                                                                                                     |
68C4DE7F | 05 34070000              | add eax,734                                                                                                                                        |
68C4DE84 | 8BC8                     | mov ecx,eax                                                                                                                                        |
68C4DE86 | 8945 CC                  | mov dword ptr ss:[ebp-34],eax                                                                                                                      |
68C4DE89 | E8 A1950000              | call <d2d1.public: long __thiscall GeometryStageManager::EnsureGPUResources(class IDeviceInternal *)>                                              |
68C4DE8E | 8BF0                     | mov esi,eax                                                                                                                                        |
68C4DE90 | 85F6                     | test esi,esi                                                                                                                                       |
68C4DE92 | 79 12                    | jns d2d1.68C4DEA6                                                                                                                                  |
68C4DE94 | 8BCE                     | mov ecx,esi                                                                                                                                        |
68C4DE96 | E8 ED88EAFF              | call <d2d1.void __stdcall DoStackCapture(long)>                                                                                                    |
68C4DE9B | 85F6                     | test esi,esi                                                                                                                                       |
68C4DE9D | 79 07                    | jns d2d1.68C4DEA6                                                                                                                                  |
68C4DE9F | 8BC6                     | mov eax,esi                                                                                                                                        |
68C4DEA1 | E9 DC010000              | jmp d2d1.68C4E082         
                                                                                                                         |
68C4DEA6 | 8B4D DC                  | mov ecx,dword ptr ss:[ebp-24]                                                                                                                      |
68C4DEA9 | E8 34F4FFFF              | call <d2d1.private: long __thiscall CHwSurfaceRenderTarget::EnsureTIRMaskBitmap(void)>   
                                                          |
68C4DEAE | 8BF0                     | mov esi,eax                                                                                                                                        |
68C4DEB0 | 85F6                     | test esi,esi                                                                                                                                       |
68C4DEB2 | 79 0B                    | jns d2d1.68C4DEBF                                                                                                                                  |
68C4DEB4 | 8BCE                     | mov ecx,esi                                                                                                                                        |
68C4DEB6 | E8 CD88EAFF              | call <d2d1.void __stdcall DoStackCapture(long)>                                                                                                    |
68C4DEBB | 85F6                     | test esi,esi                                                                                                                                       |
68C4DEBD | 78 E0                    | js d2d1.68C4DE9F                                                                                                                                   |
68C4DEBF | 8B75 D4                  | mov esi,dword ptr ss:[ebp-2C]                                                                                                                      |
68C4DEC2 | 33C0                     | xor eax,eax                                                                                                                                        |
68C4DEC4 | 8B56 08                  | mov edx,dword ptr ds:[esi+8]                                                                                                                       |
68C4DEC7 | 8BCA                     | mov ecx,edx                                                                                                                                        |
68C4DEC9 | 2B0E                     | sub ecx,dword ptr ds:[esi]                                                                                                                         |
68C4DECB | 3B16                     | cmp edx,dword ptr ds:[esi]                                                                                                                         |
68C4DECD | 0F4DC1                   | cmovge eax,ecx                                                                                                                                     |
68C4DED0 | 3B45 18                  | cmp eax,dword ptr ss:[ebp+18]                                                                                                                      |
68C4DED3 | 77 18                    | ja d2d1.68C4DEED                                                                                                                                   |
68C4DED5 | 8B56 04                  | mov edx,dword ptr ds:[esi+4]                                                                                                                       |
68C4DED8 | 33C0                     | xor eax,eax                                                                                                                                        |
68C4DEDA | 8B4E 0C                  | mov ecx,dword ptr ds:[esi+C]                                                                                                                       |
68C4DEDD | 2BCA                     | sub ecx,edx                                                                                                                                        |
68C4DEDF | 8955 D8                  | mov dword ptr ss:[ebp-28],edx                                                                                                                      |
68C4DEE2 | 3956 0C                  | cmp dword ptr ds:[esi+C],edx                                                                                                                       |
68C4DEE5 | 0F4DC1                   | cmovge eax,ecx                                                                                                                                     |
68C4DEE8 | 3B45 1C                  | cmp eax,dword ptr ss:[ebp+1C]                                                                                                                      |
68C4DEEB | 76 0F                    | jbe d2d1.68C4DEFC                                                                                                                                  |
68C4DEED | 8347 18 01               | add dword ptr ds:[edi+18],1                                                                                                                        |
68C4DEF1 | 115F 1C                  | adc dword ptr ds:[edi+1C],ebx                                                                                                                      |
68C4DEF4 | 8B7E 04                  | mov edi,dword ptr ds:[esi+4]                                                                                                                       |
68C4DEF7 | 897D D8                  | mov dword ptr ss:[ebp-28],edi                                                                                                                      |
68C4DEFA | EB 02                    | jmp d2d1.68C4DEFE                                                                                                                                  |
68C4DEFC | 8BFA                     | mov edi,edx           
                                                                                                                             |
68C4DEFE | 8B4D DC                  | mov ecx,dword ptr ss:[ebp-24]                                                                                                                      |
68C4DF01 | E8 B60C0000              | call <d2d1.public: enum TirRenderMode::Enum __thiscall CHwSurfaceRenderTarget::GetTirRenderMode(void)>   
                                          |
68C4DF06 | 8945 B0                  | mov dword ptr ss:[ebp-50],eax                                                                                                                      |
68C4DF09 | 3B7E 0C                  | cmp edi,dword ptr ds:[esi+C]                                                                                                                       |
68C4DF0C | 0F8D 6E010000            | jge d2d1.68C4E080                                                                                                                                  |
68C4DF12 | 8B45 1C                  | mov eax,dword ptr ss:[ebp+1C]                                                                                                                      |
68C4DF15 | 8D0C07                   | lea ecx,dword ptr ds:[edi+eax]                                                                                                                     |
68C4DF18 | 894D D0                  | mov dword ptr ss:[ebp-30],ecx                                                                                                                      | [ebp-30]:CContext::TID3D11DeviceContext_SetShaderResources_<1,4>+D4
68C4DF1B | 8B16                     | mov edx,dword ptr ds:[esi]                                                                                                                         |
68C4DF1D | 8B4E 08                  | mov ecx,dword ptr ds:[esi+8]                                                                                                                       |
68C4DF20 | 3BD1                     | cmp edx,ecx                                                                                                                                        |
68C4DF22 | 0F8D 47010000            | jge d2d1.68C4E06F                                                                                                                                  |
68C4DF28 | 8955 B4                  | mov dword ptr ss:[ebp-4C],edx                                                                                                                      |
68C4DF2B | 0355 18                  | add edx,dword ptr ss:[ebp+18]                                                                                                                      |
68C4DF2E | 3BD1                     | cmp edx,ecx                                                                                                                                        |
68C4DF30 | 897D B8                  | mov dword ptr ss:[ebp-48],edi                                                                                                                      |
68C4DF33 | 8BC2                     | mov eax,edx                                                                                                                                        |
68C4DF35 | 8955 A0                  | mov dword ptr ss:[ebp-60],edx                                                                                                                      |
68C4DF38 | 0F4DC1                   | cmovge eax,ecx                                                                                                                                     |
68C4DF3B | 885D E3                  | mov byte ptr ss:[ebp-1D],bl                                                                                                                        |
68C4DF3E | 8B4D D0                  | mov ecx,dword ptr ss:[ebp-30]                                                                                                                      | [ebp-30]:CContext::TID3D11DeviceContext_SetShaderResources_<1,4>+D4
68C4DF41 | 3B4E 0C                  | cmp ecx,dword ptr ds:[esi+C]                                                                                                                       |
68C4DF44 | 8945 BC                  | mov dword ptr ss:[ebp-44],eax                                                                                                                      |
68C4DF47 | 8BC1                     | mov eax,ecx                                                                                                                                        |
68C4DF49 | 0F4D46 0C                | cmovge eax,dword ptr ds:[esi+C]                                                                                                                    |
68C4DF4D | 8945 C0                  | mov dword ptr ss:[ebp-40],eax    
                                                                                                                  |
68C4DF50 | 8D45 E3                  | lea eax,dword ptr ss:[ebp-1D]                                                                                                                      |
68C4DF53 | 50                       | push eax                                                                                                                                           |
68C4DF54 | 8D45 C4                  | lea eax,dword ptr ss:[ebp-3C]                                                                                                                      |
68C4DF57 | 50                       | push eax                                                                                                                                           |
68C4DF58 | 51                       | push ecx                                                                                                                                           |
68C4DF59 | 8B4D CC                  | mov ecx,dword ptr ss:[ebp-34]                                                                                                                      |
68C4DF5C | 8D45 B4                  | lea eax,dword ptr ss:[ebp-4C]                                                                                                                      |
68C4DF5F | 50                       | push eax                                                                                                                                           |
68C4DF60 | FF75 B0                  | push dword ptr ss:[ebp-50]                                                                                                                         |
68C4DF63 | FF75 AC                  | push dword ptr ss:[ebp-54]                                                                                                                         |
68C4DF66 | FF75 DC                  | push dword ptr ss:[ebp-24]     ; arg1 = [ebp - 24] -- to jest nasz argument   (HwSurfaceRenderTarget *)                                                                                                                 |
68C4DF69 | E8 1C900000              | call <d2d1.public: long __thiscall GeometryStageManager::BeginDraw(class CHwSurfaceRenderTarget *,struct ITransformableGeometryGenerator *,enum Ti |

****************************************************************
dynamic :
****************************************************************

1. bp d2d1!CHwSurfaceRenderTarget::ProcessBatch ".printf \" ecx=this=0x%x\\r\\n\", ecx;g;"

ecx=this=0x2fa86b94 <- CHwSurfaceRenderTarget (this) ; pierwszy obiekt

...
...
...

2. Base + offset

CHwSurfaceRenderTarget->off_21ch->off_df8h + xys + off_6b00 = CHwSurfaceRenderTarget->off_21ch->off_df8h + 0x6b28 + off_6b00 + (0xc4 = base & 0xd4 = offset)

bp ntdll!RtlAllocateHeap+0x42 ".if(poi(esp+0ch)==02b4e8h){ .printf \"alloc ptr: 0x%x\\r\\n\",eax;}.else{g;}"   

;;; eax + 0x6b28 == CHwSurfaceRenderTarget->off_21ch->off_df8h + off_6b00

0:009> r
eax=17843b18 ebx=00000020 ecx=ff337a82 edx=01000002 esi=6af37c30 edi=00000012
eip=77375d42 esp=0c1fc264 ebp=0c1fc348 iopl=0         nv up ei pl zr na pe nc
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00000246
ntdll!RtlAllocateHeap+0x42:
77375d42 c20c00          ret     0Ch
0:009> r eax
eax=17843b18
0:009> ? eax + 0x6b28
Evaluate expression: 394569280 = 1784a640
0:009> d 1784a640 + 0xc4
1784a704  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a714  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a724  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a734  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a744  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a754  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a764  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a774  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
0:009> d 1784a640 + 0xd4
1784a714  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a724  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a734  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a744  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a754  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a764  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a774  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
1784a784  c0 c0 c0 c0 c0 c0 c0 c0-c0 c0 c0 c0 c0 c0 c0 c0  ................
0:009> ba w4 1784a704 ".echo \"base \\r\\n\";"
0:009> ba w4 1784a714 ".echo \"offset \\r\\n\";"
0:009> bl
     0 e Disable Clear  77375d42     0001 (0001)  0:**** ntdll!RtlAllocateHeap+0x42 ".if(poi(esp+0ch)==02b4e8h){ .printf \"alloc ptr: 0x%x\\r\\n\",eax;}.else{g;}"
     1 e Disable Clear  1784a704 w 4 0001 (0001)  0:****  ".echo \"base \\r\\n\";"
     2 e Disable Clear  1784a714 w 4 0001 (0001)  0:****  ".echo \"offset \\r\\n\";"
0:009> bd 0
0:009> g
base \r\n
offset \r\n
eax=00000000 ebx=1784a640 ecx=000248c0 edx=000249c0 esi=0c1fc088 edi=1784a740
eip=660b6ae4 esp=0c1fbd58 ebp=0c1fc064 iopl=0         nv up ei pl nz na pe cy
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010207
igd10iumd32+0x6ae4:
660b6ae4 f3aa            rep stos byte ptr es:[edi]
0:009> g
base \r\n
eax=00008000 ebx=00008000 ecx=1784e280 edx=00001000 esi=1784a690 edi=1784e280
eip=660ca95a esp=0c1fbd08 ebp=0c1fbd18 iopl=0         nv up ei pl nz na po nc
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00000202
igd10iumd32!OpenAdapter10_2+0xc85a:
660ca95a c7465c01000000  mov     dword ptr [esi+5Ch],1 ds:002b:1784a6ec=00000000
0:009> g
base \r\n
eax=00000000 ebx=00000000 ecx=0e262000 edx=1784a704 esi=1784e280 edi=1784a690
eip=660c73a7 esp=0c1fbcdc ebp=0c1fbcf0 iopl=0         nv up ei pl zr na pe nc
cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00000246
igd10iumd32!OpenAdapter10_2+0x92a7:
660c73a7 5f              pop     edi
0:009> bl
     0 d Enable Clear  77375d42     0001 (0001)  0:**** ntdll!RtlAllocateHeap+0x42 ".if(poi(esp+0ch)==02b4e8h){ .printf \"alloc ptr: 0x%x\\r\\n\",eax;}.else{g;}"
     1 e Disable Clear  1784a704 w 4 0001 (0001)  0:****  ".echo \"base \\r\\n\";"
     2 e Disable Clear  1784a714 w 4 0001 (0001)  0:****  ".echo \"offset \\r\\n\";"
0:009> d 1784a704
1784a704  00 20 26 0e d0 bf e7 10-00 00 00 00 00 00 00 00  . &.............
1784a714  00 00 00 00 00 00 00 00-00 00 02 00 00 00 00 00  ................
1784a724  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1784a734  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1784a744  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1784a754  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1784a764  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1784a774  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
0:009> kb
 # ChildEBP RetAddr  Args to Child              
WARNING: Stack unwind information not available. Following frames may be wrong.
00 0c1fbcf0 660caa29 0000001e 1784a690 1784a704 igd10iumd32!OpenAdapter10_2+0x92a7
01 0c1fbd18 660f5141 00000000 00008000 1784a690 igd10iumd32!OpenAdapter10_2+0xc929  ;//!!! arg2
02 0c1fbd64 660f1acb 10736e24 1784a640 660f13b0 igd10iumd32!OpenAdapter10_2+0x37041
03 0c1fc064 6af40c47 13142890 0c1fc088 b3f7c386 igd10iumd32!OpenAdapter10_2+0x339cb
04 0c1fc100 6af37e62 17843e08 1784a640 17843b40 d3d11!NDXGI::CDevice::CreateDriverInstance+0x1a7
05 0c1fc13c 6af33d3f 17843b40 17843e08 1784a640 d3d11!CDevice::CreateDriverInstance+0x6a
06 0c1fc1f4 6af4f340 0c1fc244 6af2bfea 17843b38 d3d11!CContext::LUCCompleteLayerConstruction+0x90
07 0c1fc1fc 6af2bfea 17843b38 b3f7c0c2 6af34ed0 d3d11!CBridgeImpl<ILayeredUseCounted,ID3D11LayeredUseCounted,CLayeredObject<CContext> >::LUCCompleteLayerConstruction+0x10
08 0c1fc244 6af36997 17843b18 17843b38 0002b4c8 d3d11!NOutermost::CDeviceChild::LUCCompleteLayerConstruction+0x4e
09 0c1fc348 6af38c03 10736df0 00000012 0c1fc678 d3d11!NOutermost::CDevice::CreateLayeredChild+0x1d7
0a 0c1fca34 6af4f3a0 0c1fcdc0 6af40e9e 1073723c d3d11!CDevice::LLOCompleteLayerConstruction+0x703
0b 0c1fca3c 6af40e9e 1073723c 10736e14 6af4f370 d3d11!CBridgeImpl<ILayeredLockOwner,ID3D11LayeredDevice,CLayeredObject<CDevice> >::LLOCompleteLayerConstruction+0x10
0c 0c1fcdc0 6af4f380 0c1fcddc 6af363a7 10736e1c d3d11!NDXGI::CDevice::LLOCompleteLayerConstruction+0xcd
0d 0c1fcdc8 6af363a7 10736e1c 6af36050 b3f7cf5a d3d11!CBridgeImpl<ILayeredLockOwner,ID3D11LayeredDevice,CLayeredObject<NDXGI::CDevice> >::LLOCompleteLayerConstruction+0x10
0e 0c1fcddc 6af36359 10736df0 10736df0 10736df4 d3d11!NOutermost::CDevice::LLOCompleteLayerConstruction+0x27
0f 0c1fcdf8 6af36160 0c1fcef4 b3f7ccaa 0c1fcf24 d3d11!NOutermost::CDevice::FinalConstruct+0x62
10 0c1fce2c 6af223aa 0c1fcef4 0c1fcef4 6af048d8 d3d11!TComObject<NOutermost::CDevice>::TComObject<NOutermost::CDevice>+0x3b
11 0c1fce74 6af21c19 00000000 6af048d8 0c1fd70c d3d11!TComObject<NOutermost::CDevice>::CreateInstance+0x3a
12 0c1fcf3c 6af21af4 00000000 0c1fcf6c 00000030 d3d11!D3D11CreateLayeredDevice+0x109
13 0c1fcfec 6af1ebc3 0c1fd018 00000030 00000000 d3d11!D3D11CoreCreateLayeredDevice+0xb4
14 0c1fd0c8 6af1fa2e 0000b100 0000b000 00090000 d3d11!D3D11RegisterLayersAndCreateDevice+0x3d6
15 0c1fd3c0 6af1e652 00000000 1f3abc68 00000000 d3d11!D3D11CoreCreateDevice+0x3de
16 0c1fd594 6af1e297 1f3abc68 00000000 00000000 d3d11!D3D11CreateDeviceAndSwapChainImpl+0x2d2
17 0c1fd5d4 6af1e1cc 1f3abc68 00000000 00000000 d3d11!D3D11CreateDeviceAndSwapChain+0x47
18 0c1fd60c 6af1e181 1f3abc68 00000000 00000000 d3d11!D3D11CreateDeviceImpl+0x2c
19 0c1fd644 69ead438 1f3abc68 00000000 00000000 d3d11!D3D11CreateDevice+0x41
1a 0c1fd688 69ff0caa 00000001 0c1fd70c 0c1fd6f8 MSHTML!CDXGIHelper::CreateD3DDevice+0x88
1b 0c1fd6b8 69feff12 00000000 0c1fd70c 0ae5a5cc MSHTML!CDXHelper::CreateD3D11Device+0xa1
1c 0c1fd890 69fefdfd 0dc49dd8 00000000 00000000 MSHTML!CDXResourceDomain::EnsureD3DDevice+0x71
1d 0c1fd8bc 69fefb6b 00000000 00000000 00000000 MSHTML!CDXResourceDomain::Initialize+0x9a
1e 0c1fd8e0 69fefceb 00000000 6ab5a244 00000000 MSHTML!CDXResourceDomain::Create+0x3b
1f 0c1fd918 69fefac7 00000000 0c1fd938 00000000 MSHTML!CDXResourceDomain::EnsureSharedDomain+0xa8
20 0c1fd93c 69ef6465 00000000 18665ef0 18665ef8 MSHTML!CDXResourceDomain::AcquireDomain+0x46
21 0c1fd974 69db97e9 1865a678 1865a670 00000000 MSHTML!CDXSystemShared::EnsureResourceDomain+0x87
22 0c1fd98c 6a47908a 0c1fd9a4 0c1fd9f8 1865a670 MSHTML!CDXSystem::EnsureResourceDomainNoRef+0x39
23 0c1fd9bc 6a1f5e6b 00000003 69f5a9d0 0ae60000 MSHTML!CDXSystem::HandleDeviceReset+0xa5
24 0c1fd9ec 69f59175 1865a670 0c1fda10 69f59150 MSHTML!CDXSystem::CheckAndHandleDeviceReset+0x29b49b
25 0c1fda00 6a00c18b 0ae78000 00000000 00000031 MSHTML!CDoc::CheckAndHandleDeviceReset+0x25
26 0c1fda7c 6a00c524 b3307865 00008002 00000000 MSHTML!GlobalWndOnMethodCall+0x21b
27 0c1fdac8 7417bf1b 00b1084c 00008002 00000000 MSHTML!GlobalWndProc+0xe4
28 0c1fdaf4 741783ea 6a00c440 00b1084c 00008002 USER32!_InternalCallWinProc+0x2b
29 0c1fdbdc 74177c9e 6a00c440 00000000 00008002 USER32!UserCallWinProcCheckWow+0x3aa
2a 0c1fdc58 74177a80 5195baa4 0c1ffdf0 6b45648f USER32!DispatchMessageWorker+0x20e
2b 0c1fdc64 6b45648f 0c1fdca0 09b07d88 0c22efc8 USER32!DispatchMessageW+0x10
2c 0c1ffdf0 6b455a90 0c1ffebc 6b455680 09b09ff0 IEFRAME!CTabWindow::_TabWindowThreadProc+0x46f
2d 0c1ffeb0 6adfb61c 09b07d88 0c1ffed4 6b495610 IEFRAME!LCIETab_ThreadProc+0x410
2e 0c1ffec8 711ee6cd 09b09ff0 711ee640 711ee640 msIso!_IsoThreadProc_WrapperToReleaseScope+0x1c
2f 0c1fff00 76938484 0bf46fe8 76938460 12be4d17 IEShims!NS_CreateThread::AutomationIE_ThreadProc+0x8d
30 0c1fff14 77393ab8 0bf46fe8 ff334426 00000000 KERNEL32!BaseThreadInitThunk+0x24
31 0c1fff5c 77393a88 ffffffff 773af300 00000000 ntdll!__RtlUserThreadStart+0x2f
32 0c1fff6c 00000000 711ee640 0bf46fe8 00000000 ntdll!_RtlUserThreadStart+0x1b

----------------------------------
CHwSurfaceRenderTarget->off_21ch->off_df8h + xys + off_6b00 = CHwSurfaceRenderTarget->off_21ch->off_df8h + 0x6b28 + off_6b00 + (0xc4 = base & 0xd4 = offset)
I tu zaczynają się schody ! 
Base i offset znajdują się pod adresem (CHwSurfaceRenderTarget->off_21ch->off_df8h + 0x6b28 + off_6b00), wszystkie te obiekty możemy bez problemu 
uchwycić w momencie inicjalizacji, ale adres bazowy "base" shader-a wymaga podania uchwytu D3DKMT_HANDLE, ponieważ grafika jest dość intensywnie wykorzystywana w aplikacji 
ustawienie punktu wstrzymania na zapisie do pamięci pod adresem CHwSurfaceRenderTarget->off_21ch->off_df8h + xys + off_6b00 = CHwSurfaceRenderTarget->off_21ch->off_df8h + 0x6b28 + off_6b00 (base)
staje się problematyczne i sprawia że poc niedziała, a żeby przeanalizować "root cause" musimy mn. znaleźć moment alokacji i inicjalizacji odpowiedniego shadera.
Podobnie jest z "offsetem", niemożemy poprostu ustawić bp/ba na wybranym miejscu pamięci ponieważ punkty wstrzymania konsumują zbyt dużo zasobów 
i poc przestaje działać.

Musimy uchwycić moment inicjalizacji base && offset !!!

----------------------------------

66657340 | 55                       | push ebp                                                                 |
66657341 | 8BEC                     | mov ebp,esp                                                              |
66657343 | 83EC 0C                  | sub esp,C                                                                |
66657346 | 56                       | push esi                                                                 |
66657347 | 8BF1                     | mov esi,ecx                                                              |
66657349 | 81BE 1C050000 20000B00   | cmp dword ptr ds:[esi+51C],B0020                                         |
66657353 | 75 5A                    | jne igd10iumd32.666573AF                                                 |
66657355 | 57                       | push edi                                                                 |
66657356 | 8B7D 0C                  | mov edi,dword ptr ss:[ebp+C]                                             | ;PTR_STRUCT (.hnd_allocations)
66657359 | 8D45 08                  | lea eax,dword ptr ss:[ebp+8]                                             |
6665735C | 57                       | push edi                                                                 |
6665735D | 50                       | push eax                                                                 |
6665735E | E8 4D3C0A00              | call <igd10iumd32.sub_666FAFB0>                                          |
66657363 | 85C0                     | test eax,eax                                                             |
66657365 | 75 40                    | jne <igd10iumd32._return_0>                                              |
66657367 | 3947 18                  | cmp dword ptr ds:[edi+18],eax                                            | [edi+18]:sub_667832F0
6665736A | 74 10                    | je igd10iumd32.6665737C                                                  |
6665736C | 57                       | push edi                                                                 |
6665736D | 8D45 08                  | lea eax,dword ptr ss:[ebp+8]                                             |
66657370 | 8BCE                     | mov ecx,esi                                                              |
66657372 | 50                       | push eax                                                                 |
66657373 | E8 C8000000              | call <igd10iumd32.sub_66657440>                                          |
66657378 | 85C0                     | test eax,eax                                                             |
6665737A | 75 2B                    | jne <igd10iumd32._return_0>                                              |
6665737C | 8B07                     | mov eax,dword ptr ds:[edi]                                               | ;hnd_allocatioon - ultra mega waze to jest HANDLER do shareda - nie wiedzac gdzie jest alokowany shared nie wiemy co sie zjebalo
6665737E | 0F57C0                   | xorps xmm0,xmm0                                                          |
66657381 | 8945 F4                  | mov dword ptr ss:[ebp-C],eax                                             | [ebp-C]:_NtGdiDdDDIUnlock2@4+C
66657384 | 8D45 F4                  | lea eax,dword ptr ss:[ebp-C]                                             | [ebp-C]:_NtGdiDdDDIUnlock2@4+C
66657387 | 50                       | push eax                                                                 |
66657388 | FF76 10                  | push dword ptr ds:[esi+10]                                               |
6665738B | 8B86 24020000            | mov eax,dword ptr ds:[esi+224]                                           |
66657391 | 66:0FD645 F8             | movq qword ptr ss:[ebp-8],xmm0                                           |
66657396 | C745 F8 00000000         | mov dword ptr ss:[ebp-8],0                                               |
6665739D | FFD0                     | call eax                                                                 |
6665739F | 8B55 10                  | mov edx,dword ptr ss:[ebp+10]                                            |
666573A2 | 8B4D FC                  | mov ecx,dword ptr ss:[ebp-4]                                             |
666573A5 | 890A                     | mov dword ptr ds:[edx],ecx                                               |
666573A7 | 5F                       | pop edi                                                                  |
666573A8 | 5E                       | pop esi                                                                  |
666573A9 | 8BE5                     | mov esp,ebp                                                              |
666573AB | 5D                       | pop ebp                                                                  |
666573AC | C2 0C00                  | ret C                                                                    |
666573AF | FF75 10                  | push dword ptr ss:[ebp+10]                                               |
666573B2 | FF75 0C                  | push dword ptr ss:[ebp+C]                                                |
666573B5 | FF75 08                  | push dword ptr ss:[ebp+8]                                                |
666573B8 | E8 13000000              | call <igd10iumd32.sub_666573D0>                                          |
666573BD | 5E                       | pop esi                                                                  |
666573BE | 8BE5                     | mov esp,ebp                                                              |
666573C0 | 5D                       | pop ebp                                                                  |
666573C1 | C2 0C00                  | ret C                                                                    |



------
bp 66c673a5 ".printf \"val=0x%x\\r\\n\",ecx;g;"
------------------------------------------------------------------------------
------------------------------------------------------------------------------
------------------------------------------------------------------------------

! alokacja shadera ! 1  ! ; alokacja shadera ?!!? NDXGI::CDevice::AllocateCB

bp d3d11!NDXGI::CDevice::AllocateCB ".printf \" structure = 0x%x D3DKMT_HANDLE = 0x%x CntAllocations = 0x%x\\r\\n\",poi(esp+8),poi(poi(esp+8) + 0x0c),poi(poi(esp+8) + 0x10);g;"

6bd25dcc + ret z AllocateCB

bp 6bd65dcc ".printf \" info->hAllocation = 0x%x \\r\\n\",poi(poi(esp+8) + 0x18);g;"   //,poi(poi(esp+8) + 0x18 + 4);g;"
  
**********************************************************************************
--- kolejny bp tu TODO: musimy ustalić adres prawidłowy - bo aslr lol

6665737C | 8B07                     | mov eax,dword ptr ds:[edi]                                               | ;hnd_allocatioon - ultra mega waze to jest HANDLER do shareda 

mod : igd10iumd32
RVA : 17340
RVA2 : 1737C : 6612737C | 8B07                     | mov eax,dword ptr ds:[edi]                                 | ;hnd_allocatioon
FileOFF: 1677C : 6612737C | 8B07                     | mov eax,dword ptr ds:[edi]                                 | ;hnd_allocatioon

lmDvmigd10iumd32

bp 66fc737e ".printf \" eax = 0x%x\\r\\n\",eax;g;"
----------

6612737c

bp 683f737c ".print \" [edi]=0x%x\\r\\n\",poi(edi);g;"